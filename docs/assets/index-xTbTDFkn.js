function w_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function T_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nm={exports:{}},xa={},rm={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vs=Symbol.for("react.element"),S_=Symbol.for("react.portal"),I_=Symbol.for("react.fragment"),A_=Symbol.for("react.strict_mode"),C_=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),R_=Symbol.for("react.context"),k_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),D_=Symbol.for("react.memo"),N_=Symbol.for("react.lazy"),Ff=Symbol.iterator;function V_(t){return t===null||typeof t!="object"?null:(t=Ff&&t[Ff]||t["@@iterator"],typeof t=="function"?t:null)}var im={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sm=Object.assign,om={};function ai(t,e,n){this.props=t,this.context=e,this.refs=om,this.updater=n||im}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function am(){}am.prototype=ai.prototype;function _c(t,e,n){this.props=t,this.context=e,this.refs=om,this.updater=n||im}var Ec=_c.prototype=new am;Ec.constructor=_c;sm(Ec,ai.prototype);Ec.isPureReactComponent=!0;var Uf=Array.isArray,lm=Object.prototype.hasOwnProperty,wc={current:null},um={key:!0,ref:!0,__self:!0,__source:!0};function cm(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)lm.call(e,r)&&!um.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Vs,type:t,key:s,ref:a,props:i,_owner:wc.current}}function O_(t,e){return{$$typeof:Vs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vs}function M_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zf=/\/+/g;function Al(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M_(""+t.key):e.toString(36)}function Co(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vs:case S_:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Al(a,0):r,Uf(i)?(n="",t!=null&&(n=t.replace(zf,"$&/")+"/"),Co(i,e,n,"",function(f){return f})):i!=null&&(Tc(i)&&(i=O_(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(zf,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Uf(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Al(s,l);a+=Co(s,e,n,c,i)}else if(c=V_(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Al(s,l++),a+=Co(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function no(t,e,n){if(t==null)return t;var r=[],i=0;return Co(t,r,"","",function(s){return e.call(n,s,i++)}),r}function L_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},Po={transition:null},j_={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Po,ReactCurrentOwner:wc};function hm(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:no,forEach:function(t,e,n){no(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return no(t,function(){e++}),e},toArray:function(t){return no(t,function(e){return e})||[]},only:function(t){if(!Tc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=ai;X.Fragment=I_;X.Profiler=C_;X.PureComponent=_c;X.StrictMode=A_;X.Suspense=x_;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_;X.act=hm;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sm({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=wc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lm.call(e,c)&&!um.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Vs,type:t.type,key:i,ref:s,props:r,_owner:a}};X.createContext=function(t){return t={$$typeof:R_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P_,_context:t},t.Consumer=t};X.createElement=cm;X.createFactory=function(t){var e=cm.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:k_,render:t}};X.isValidElement=Tc;X.lazy=function(t){return{$$typeof:N_,_payload:{_status:-1,_result:t},_init:L_}};X.memo=function(t,e){return{$$typeof:D_,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Po.transition;Po.transition={};try{t()}finally{Po.transition=e}};X.unstable_act=hm;X.useCallback=function(t,e){return tt.current.useCallback(t,e)};X.useContext=function(t){return tt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};X.useEffect=function(t,e){return tt.current.useEffect(t,e)};X.useId=function(){return tt.current.useId()};X.useImperativeHandle=function(t,e,n){return tt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return tt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return tt.current.useReducer(t,e,n)};X.useRef=function(t){return tt.current.useRef(t)};X.useState=function(t){return tt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return tt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return tt.current.useTransition()};X.version="18.3.1";rm.exports=X;var B=rm.exports;const b_=T_(B),F_=w_({__proto__:null,default:b_},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_=B,z_=Symbol.for("react.element"),B_=Symbol.for("react.fragment"),$_=Object.prototype.hasOwnProperty,q_=U_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H_={key:!0,ref:!0,__self:!0,__source:!0};function fm(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)$_.call(e,r)&&!H_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:z_,type:t,key:s,ref:a,props:i,_owner:q_.current}}xa.Fragment=B_;xa.jsx=fm;xa.jsxs=fm;nm.exports=xa;var te=nm.exports,ou={},dm={exports:{}},mt={},pm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var Q=U.length;U.push(H);e:for(;0<Q;){var ue=Q-1>>>1,Ee=U[ue];if(0<i(Ee,H))U[ue]=H,U[Q]=Ee,Q=ue;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],Q=U.pop();if(Q!==H){U[0]=Q;e:for(var ue=0,Ee=U.length,$n=Ee>>>1;ue<$n;){var yt=2*(ue+1)-1,qn=U[yt],It=yt+1,ln=U[It];if(0>i(qn,Q))It<Ee&&0>i(ln,qn)?(U[ue]=ln,U[It]=Q,ue=It):(U[ue]=qn,U[yt]=Q,ue=yt);else if(It<Ee&&0>i(ln,Q))U[ue]=ln,U[It]=Q,ue=It;else break e}}return H}function i(U,H){var Q=U.sortIndex-H.sortIndex;return Q!==0?Q:U.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],f=[],m=1,d=null,y=3,R=!1,k=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var H=n(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=U)r(f),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(f)}}function N(U){if(D=!1,A(U),!k)if(n(c)!==null)k=!0,pi(b);else{var H=n(f);H!==null&&mi(N,H.startTime-U)}}function b(U,H){k=!1,D&&(D=!1,T(g),g=-1),R=!0;var Q=y;try{for(A(H),d=n(c);d!==null&&(!(d.expirationTime>H)||U&&!I());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,y=d.priorityLevel;var Ee=ue(d.expirationTime<=H);H=t.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===n(c)&&r(c),A(H)}else r(c);d=n(c)}if(d!==null)var $n=!0;else{var yt=n(f);yt!==null&&mi(N,yt.startTime-H),$n=!1}return $n}finally{d=null,y=Q,R=!1}}var F=!1,_=null,g=-1,E=5,S=-1;function I(){return!(t.unstable_now()-S<E)}function C(){if(_!==null){var U=t.unstable_now();S=U;var H=!0;try{H=_(!0,U)}finally{H?w():(F=!1,_=null)}}else F=!1}var w;if(typeof v=="function")w=function(){v(C)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Wt=Oe.port2;Oe.port1.onmessage=C,w=function(){Wt.postMessage(null)}}else w=function(){O(C,0)};function pi(U){_=U,F||(F=!0,w())}function mi(U,H){g=O(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){k||R||(k=!0,pi(b))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var Q=y;y=H;try{return U()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=y;y=U;try{return H()}finally{y=Q}},t.unstable_scheduleCallback=function(U,H,Q){var ue=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ue+Q:ue):Q=ue,U){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Q+Ee,U={id:m++,callback:H,priorityLevel:U,startTime:Q,expirationTime:Ee,sortIndex:-1},Q>ue?(U.sortIndex=Q,e(f,U),n(c)===null&&U===n(f)&&(D?(T(g),g=-1):D=!0,mi(N,Q-ue))):(U.sortIndex=Ee,e(c,U),k||R||(k=!0,pi(b))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var H=y;return function(){var Q=y;y=H;try{return U.apply(this,arguments)}finally{y=Q}}}})(mm);pm.exports=mm;var W_=pm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_=B,pt=W_;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gm=new Set,as={};function yr(t,e){Kr(t,e),Kr(t+"Capture",e)}function Kr(t,e){for(as[t]=e,t=0;t<e.length;t++)gm.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=Object.prototype.hasOwnProperty,G_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bf={},$f={};function K_(t){return au.call($f,t)?!0:au.call(Bf,t)?!1:G_.test(t)?$f[t]=!0:(Bf[t]=!0,!1)}function X_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y_(t,e,n,r){if(e===null||typeof e>"u"||X_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sc=/[\-:]([a-z])/g;function Ic(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sc,Ic);ze[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sc,Ic);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sc,Ic);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ac(t,e,n,r){var i=ze.hasOwnProperty(e)?ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y_(e,n,i,r)&&(n=null),r||i===null?K_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var an=Q_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ro=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),kr=Symbol.for("react.fragment"),Cc=Symbol.for("react.strict_mode"),lu=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),vm=Symbol.for("react.context"),Pc=Symbol.for("react.forward_ref"),uu=Symbol.for("react.suspense"),cu=Symbol.for("react.suspense_list"),Rc=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),_m=Symbol.for("react.offscreen"),qf=Symbol.iterator;function Ni(t){return t===null||typeof t!="object"?null:(t=qf&&t[qf]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Cl;function zi(t){if(Cl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cl=e&&e[1]||""}return`
`+Cl+t}var Pl=!1;function Rl(t,e){if(!t||Pl)return"";Pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Pl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zi(t):""}function J_(t){switch(t.tag){case 5:return zi(t.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return t=Rl(t.type,!1),t;case 11:return t=Rl(t.type.render,!1),t;case 1:return t=Rl(t.type,!0),t;default:return""}}function hu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kr:return"Fragment";case Rr:return"Portal";case lu:return"Profiler";case Cc:return"StrictMode";case uu:return"Suspense";case cu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vm:return(t.displayName||"Context")+".Consumer";case ym:return(t._context.displayName||"Context")+".Provider";case Pc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rc:return e=t.displayName||null,e!==null?e:hu(t.type)||"Memo";case gn:e=t._payload,t=t._init;try{return hu(t(e))}catch{}}return null}function Z_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hu(e);case 8:return e===Cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function On(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Em(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e0(t){var e=Em(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function io(t){t._valueTracker||(t._valueTracker=e0(t))}function wm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Em(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fu(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=On(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tm(t,e){e=e.checked,e!=null&&Ac(t,"checked",e,!1)}function du(t,e){Tm(t,e);var n=On(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pu(t,e.type,n):e.hasOwnProperty("defaultValue")&&pu(t,e.type,On(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pu(t,e,n){(e!=="number"||qo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bi=Array.isArray;function Ur(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+On(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Bi(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:On(n)}}function Sm(t,e){var n=On(e.value),r=On(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Im(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Im(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var so,Am=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=so.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t0=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(t){t0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wi[e]=Wi[t]})});function Cm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wi.hasOwnProperty(t)&&Wi[t]?(""+e).trim():e+"px"}function Pm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n0=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(t,e){if(e){if(n0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function vu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=null;function kc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eu=null,zr=null,Br=null;function Kf(t){if(t=Ls(t)){if(typeof Eu!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Ma(e),Eu(t.stateNode,t.type,e))}}function Rm(t){zr?Br?Br.push(t):Br=[t]:zr=t}function km(){if(zr){var t=zr,e=Br;if(Br=zr=null,Kf(t),e)for(t=0;t<e.length;t++)Kf(e[t])}}function xm(t,e){return t(e)}function Dm(){}var kl=!1;function Nm(t,e,n){if(kl)return t(e,n);kl=!0;try{return xm(t,e,n)}finally{kl=!1,(zr!==null||Br!==null)&&(Dm(),km())}}function us(t,e){var n=t.stateNode;if(n===null)return null;var r=Ma(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var wu=!1;if(tn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){wu=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{wu=!1}function r0(t,e,n,r,i,s,a,l,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Qi=!1,Ho=null,Wo=!1,Tu=null,i0={onError:function(t){Qi=!0,Ho=t}};function s0(t,e,n,r,i,s,a,l,c){Qi=!1,Ho=null,r0.apply(i0,arguments)}function o0(t,e,n,r,i,s,a,l,c){if(s0.apply(this,arguments),Qi){if(Qi){var f=Ho;Qi=!1,Ho=null}else throw Error(L(198));Wo||(Wo=!0,Tu=f)}}function vr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xf(t){if(vr(t)!==t)throw Error(L(188))}function a0(t){var e=t.alternate;if(!e){if(e=vr(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xf(i),t;if(s===r)return Xf(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function Om(t){return t=a0(t),t!==null?Mm(t):null}function Mm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mm(t);if(e!==null)return e;t=t.sibling}return null}var Lm=pt.unstable_scheduleCallback,Yf=pt.unstable_cancelCallback,l0=pt.unstable_shouldYield,u0=pt.unstable_requestPaint,we=pt.unstable_now,c0=pt.unstable_getCurrentPriorityLevel,xc=pt.unstable_ImmediatePriority,jm=pt.unstable_UserBlockingPriority,Qo=pt.unstable_NormalPriority,h0=pt.unstable_LowPriority,bm=pt.unstable_IdlePriority,Da=null,Bt=null;function f0(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Da,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:m0,d0=Math.log,p0=Math.LN2;function m0(t){return t>>>=0,t===0?32:31-(d0(t)/p0|0)|0}var oo=64,ao=4194304;function $i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Go(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=$i(l):(s&=a,s!==0&&(r=$i(s)))}else a=n&~i,a!==0?r=$i(a):s!==0&&(r=$i(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vt(e),i=1<<n,r|=t[n],e&=~i;return r}function g0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Vt(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=g0(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fm(){var t=oo;return oo<<=1,!(oo&4194240)&&(oo=64),t}function xl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vt(e),t[e]=n}function v0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ne=0;function Um(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zm,Nc,Bm,$m,qm,Iu=!1,lo=[],Sn=null,In=null,An=null,cs=new Map,hs=new Map,vn=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(e.pointerId)}}function Oi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ls(e),e!==null&&Nc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function E0(t,e,n,r,i){switch(e){case"focusin":return Sn=Oi(Sn,t,e,n,r,i),!0;case"dragenter":return In=Oi(In,t,e,n,r,i),!0;case"mouseover":return An=Oi(An,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cs.set(s,Oi(cs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hs.set(s,Oi(hs.get(s)||null,t,e,n,r,i)),!0}return!1}function Hm(t){var e=Zn(t.target);if(e!==null){var n=vr(e);if(n!==null){if(e=n.tag,e===13){if(e=Vm(n),e!==null){t.blockedOn=e,qm(t.priority,function(){Bm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Au(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_u=r,n.target.dispatchEvent(r),_u=null}else return e=Ls(n),e!==null&&Nc(e),t.blockedOn=n,!1;e.shift()}return!0}function Zf(t,e,n){Ro(t)&&n.delete(e)}function w0(){Iu=!1,Sn!==null&&Ro(Sn)&&(Sn=null),In!==null&&Ro(In)&&(In=null),An!==null&&Ro(An)&&(An=null),cs.forEach(Zf),hs.forEach(Zf)}function Mi(t,e){t.blockedOn===e&&(t.blockedOn=null,Iu||(Iu=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,w0)))}function fs(t){function e(i){return Mi(i,t)}if(0<lo.length){Mi(lo[0],t);for(var n=1;n<lo.length;n++){var r=lo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sn!==null&&Mi(Sn,t),In!==null&&Mi(In,t),An!==null&&Mi(An,t),cs.forEach(e),hs.forEach(e),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)Hm(n),n.blockedOn===null&&vn.shift()}var $r=an.ReactCurrentBatchConfig,Ko=!0;function T0(t,e,n,r){var i=ne,s=$r.transition;$r.transition=null;try{ne=1,Vc(t,e,n,r)}finally{ne=i,$r.transition=s}}function S0(t,e,n,r){var i=ne,s=$r.transition;$r.transition=null;try{ne=4,Vc(t,e,n,r)}finally{ne=i,$r.transition=s}}function Vc(t,e,n,r){if(Ko){var i=Au(t,e,n,r);if(i===null)Ul(t,e,r,Xo,n),Jf(t,r);else if(E0(i,t,e,n,r))r.stopPropagation();else if(Jf(t,r),e&4&&-1<_0.indexOf(t)){for(;i!==null;){var s=Ls(i);if(s!==null&&zm(s),s=Au(t,e,n,r),s===null&&Ul(t,e,r,Xo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ul(t,e,r,null,n)}}var Xo=null;function Au(t,e,n,r){if(Xo=null,t=kc(r),t=Zn(t),t!==null)if(e=vr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xo=t,null}function Wm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c0()){case xc:return 1;case jm:return 4;case Qo:case h0:return 16;case bm:return 536870912;default:return 16}default:return 16}}var En=null,Oc=null,ko=null;function Qm(){if(ko)return ko;var t,e=Oc,n=e.length,r,i="value"in En?En.value:En.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return ko=i.slice(t,1<r?1-r:void 0)}function xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uo(){return!0}function ed(){return!1}function gt(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uo:ed,this.isPropagationStopped=ed,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),e}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=gt(li),Ms=ge({},li,{view:0,detail:0}),I0=gt(Ms),Dl,Nl,Li,Na=ge({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Dl=t.screenX-Li.screenX,Nl=t.screenY-Li.screenY):Nl=Dl=0,Li=t),Dl)},movementY:function(t){return"movementY"in t?t.movementY:Nl}}),td=gt(Na),A0=ge({},Na,{dataTransfer:0}),C0=gt(A0),P0=ge({},Ms,{relatedTarget:0}),Vl=gt(P0),R0=ge({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=gt(R0),x0=ge({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),D0=gt(x0),N0=ge({},li,{data:0}),nd=gt(N0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M0[t])?!!e[t]:!1}function Lc(){return L0}var j0=ge({},Ms,{key:function(t){if(t.key){var e=V0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(t){return t.type==="keypress"?xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b0=gt(j0),F0=ge({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=gt(F0),U0=ge({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),z0=gt(U0),B0=ge({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=gt(B0),q0=ge({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=gt(q0),W0=[9,13,27,32],jc=tn&&"CompositionEvent"in window,Gi=null;tn&&"documentMode"in document&&(Gi=document.documentMode);var Q0=tn&&"TextEvent"in window&&!Gi,Gm=tn&&(!jc||Gi&&8<Gi&&11>=Gi),id=" ",sd=!1;function Km(t,e){switch(t){case"keyup":return W0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xr=!1;function G0(t,e){switch(t){case"compositionend":return Xm(e);case"keypress":return e.which!==32?null:(sd=!0,id);case"textInput":return t=e.data,t===id&&sd?null:t;default:return null}}function K0(t,e){if(xr)return t==="compositionend"||!jc&&Km(t,e)?(t=Qm(),ko=Oc=En=null,xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gm&&e.locale!=="ko"?null:e.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X0[t.type]:e==="textarea"}function Ym(t,e,n,r){Rm(r),e=Yo(e,"onChange"),0<e.length&&(n=new Mc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ki=null,ds=null;function Y0(t){lg(t,0)}function Va(t){var e=Vr(t);if(wm(e))return t}function J0(t,e){if(t==="change")return e}var Jm=!1;if(tn){var Ol;if(tn){var Ml="oninput"in document;if(!Ml){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Ml=typeof ad.oninput=="function"}Ol=Ml}else Ol=!1;Jm=Ol&&(!document.documentMode||9<document.documentMode)}function ld(){Ki&&(Ki.detachEvent("onpropertychange",Zm),ds=Ki=null)}function Zm(t){if(t.propertyName==="value"&&Va(ds)){var e=[];Ym(e,ds,t,kc(t)),Nm(Y0,e)}}function Z0(t,e,n){t==="focusin"?(ld(),Ki=e,ds=n,Ki.attachEvent("onpropertychange",Zm)):t==="focusout"&&ld()}function eE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(ds)}function tE(t,e){if(t==="click")return Va(e)}function nE(t,e){if(t==="input"||t==="change")return Va(e)}function rE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:rE;function ps(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!au.call(e,i)||!Mt(t[i],e[i]))return!1}return!0}function ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cd(t,e){var n=ud(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ud(n)}}function eg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tg(){for(var t=window,e=qo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qo(t.document)}return e}function bc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iE(t){var e=tg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eg(n.ownerDocument.documentElement,n)){if(r!==null&&bc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cd(n,s);var a=cd(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sE=tn&&"documentMode"in document&&11>=document.documentMode,Dr=null,Cu=null,Xi=null,Pu=!1;function hd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pu||Dr==null||Dr!==qo(r)||(r=Dr,"selectionStart"in r&&bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xi&&ps(Xi,r)||(Xi=r,r=Yo(Cu,"onSelect"),0<r.length&&(e=new Mc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dr)))}function co(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nr={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Ll={},ng={};tn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Oa(t){if(Ll[t])return Ll[t];if(!Nr[t])return t;var e=Nr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ng)return Ll[t]=e[n];return t}var rg=Oa("animationend"),ig=Oa("animationiteration"),sg=Oa("animationstart"),og=Oa("transitionend"),ag=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(t,e){ag.set(t,e),yr(e,[t])}for(var jl=0;jl<fd.length;jl++){var bl=fd[jl],oE=bl.toLowerCase(),aE=bl[0].toUpperCase()+bl.slice(1);Un(oE,"on"+aE)}Un(rg,"onAnimationEnd");Un(ig,"onAnimationIteration");Un(sg,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(og,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function dd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,o0(r,e,void 0,t),t.currentTarget=null}function lg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;dd(i,l,f),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,f=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;dd(i,l,f),s=c}}}if(Wo)throw t=Tu,Wo=!1,Tu=null,t}function ae(t,e){var n=e[Nu];n===void 0&&(n=e[Nu]=new Set);var r=t+"__bubble";n.has(r)||(ug(e,t,2,!1),n.add(r))}function Fl(t,e,n){var r=0;e&&(r|=4),ug(n,t,r,e)}var ho="_reactListening"+Math.random().toString(36).slice(2);function ms(t){if(!t[ho]){t[ho]=!0,gm.forEach(function(n){n!=="selectionchange"&&(lE.has(n)||Fl(n,!1,t),Fl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ho]||(e[ho]=!0,Fl("selectionchange",!1,e))}}function ug(t,e,n,r){switch(Wm(e)){case 1:var i=T0;break;case 4:i=S0;break;default:i=Vc}n=i.bind(null,e,n,t),i=void 0,!wu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ul(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Zn(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}Nm(function(){var f=s,m=kc(n),d=[];e:{var y=ag.get(t);if(y!==void 0){var R=Mc,k=t;switch(t){case"keypress":if(xo(n)===0)break e;case"keydown":case"keyup":R=b0;break;case"focusin":k="focus",R=Vl;break;case"focusout":k="blur",R=Vl;break;case"beforeblur":case"afterblur":R=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=z0;break;case rg:case ig:case sg:R=k0;break;case og:R=$0;break;case"scroll":R=I0;break;case"wheel":R=H0;break;case"copy":case"cut":case"paste":R=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=rd}var D=(e&4)!==0,O=!D&&t==="scroll",T=D?y!==null?y+"Capture":null:y;D=[];for(var v=f,A;v!==null;){A=v;var N=A.stateNode;if(A.tag===5&&N!==null&&(A=N,T!==null&&(N=us(v,T),N!=null&&D.push(gs(v,N,A)))),O)break;v=v.return}0<D.length&&(y=new R(y,k,null,n,m),d.push({event:y,listeners:D}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",y&&n!==_u&&(k=n.relatedTarget||n.fromElement)&&(Zn(k)||k[nn]))break e;if((R||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,R?(k=n.relatedTarget||n.toElement,R=f,k=k?Zn(k):null,k!==null&&(O=vr(k),k!==O||k.tag!==5&&k.tag!==6)&&(k=null)):(R=null,k=f),R!==k)){if(D=td,N="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(D=rd,N="onPointerLeave",T="onPointerEnter",v="pointer"),O=R==null?y:Vr(R),A=k==null?y:Vr(k),y=new D(N,v+"leave",R,n,m),y.target=O,y.relatedTarget=A,N=null,Zn(m)===f&&(D=new D(T,v+"enter",k,n,m),D.target=A,D.relatedTarget=O,N=D),O=N,R&&k)t:{for(D=R,T=k,v=0,A=D;A;A=Ar(A))v++;for(A=0,N=T;N;N=Ar(N))A++;for(;0<v-A;)D=Ar(D),v--;for(;0<A-v;)T=Ar(T),A--;for(;v--;){if(D===T||T!==null&&D===T.alternate)break t;D=Ar(D),T=Ar(T)}D=null}else D=null;R!==null&&pd(d,y,R,D,!1),k!==null&&O!==null&&pd(d,O,k,D,!0)}}e:{if(y=f?Vr(f):window,R=y.nodeName&&y.nodeName.toLowerCase(),R==="select"||R==="input"&&y.type==="file")var b=J0;else if(od(y))if(Jm)b=nE;else{b=eE;var F=Z0}else(R=y.nodeName)&&R.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(b=tE);if(b&&(b=b(t,f))){Ym(d,b,n,m);break e}F&&F(t,y,f),t==="focusout"&&(F=y._wrapperState)&&F.controlled&&y.type==="number"&&pu(y,"number",y.value)}switch(F=f?Vr(f):window,t){case"focusin":(od(F)||F.contentEditable==="true")&&(Dr=F,Cu=f,Xi=null);break;case"focusout":Xi=Cu=Dr=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,hd(d,n,m);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":hd(d,n,m)}var _;if(jc)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else xr?Km(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Gm&&n.locale!=="ko"&&(xr||g!=="onCompositionStart"?g==="onCompositionEnd"&&xr&&(_=Qm()):(En=m,Oc="value"in En?En.value:En.textContent,xr=!0)),F=Yo(f,g),0<F.length&&(g=new nd(g,t,null,n,m),d.push({event:g,listeners:F}),_?g.data=_:(_=Xm(n),_!==null&&(g.data=_)))),(_=Q0?G0(t,n):K0(t,n))&&(f=Yo(f,"onBeforeInput"),0<f.length&&(m=new nd("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:f}),m.data=_))}lg(d,e)})}function gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=us(t,n),s!=null&&r.unshift(gs(t,s,i)),s=us(t,e),s!=null&&r.push(gs(t,s,i))),t=t.return}return r}function Ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pd(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,f=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&f!==null&&(l=f,i?(c=us(n,s),c!=null&&a.unshift(gs(n,c,l))):i||(c=us(n,s),c!=null&&a.push(gs(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var uE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function md(t){return(typeof t=="string"?t:""+t).replace(uE,`
`).replace(cE,"")}function fo(t,e,n){if(e=md(e),md(t)!==e&&n)throw Error(L(425))}function Jo(){}var Ru=null,ku=null;function xu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,gd=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof gd<"u"?function(t){return gd.resolve(null).then(t).catch(dE)}:Du;function dE(t){setTimeout(function(){throw t})}function zl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fs(e)}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ui=Math.random().toString(36).slice(2),zt="__reactFiber$"+ui,ys="__reactProps$"+ui,nn="__reactContainer$"+ui,Nu="__reactEvents$"+ui,pE="__reactListeners$"+ui,mE="__reactHandles$"+ui;function Zn(t){var e=t[zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yd(t);t!==null;){if(n=t[zt])return n;t=yd(t)}return e}t=n,n=t.parentNode}return null}function Ls(t){return t=t[zt]||t[nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Ma(t){return t[ys]||null}var Vu=[],Or=-1;function zn(t){return{current:t}}function le(t){0>Or||(t.current=Vu[Or],Vu[Or]=null,Or--)}function ie(t,e){Or++,Vu[Or]=t.current,t.current=e}var Mn={},Xe=zn(Mn),ot=zn(!1),lr=Mn;function Xr(t,e){var n=t.type.contextTypes;if(!n)return Mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function at(t){return t=t.childContextTypes,t!=null}function Zo(){le(ot),le(Xe)}function vd(t,e,n){if(Xe.current!==Mn)throw Error(L(168));ie(Xe,e),ie(ot,n)}function cg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,Z_(t)||"Unknown",i));return ge({},n,r)}function ea(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,lr=Xe.current,ie(Xe,t),ie(ot,ot.current),!0}function _d(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=cg(t,e,lr),r.__reactInternalMemoizedMergedChildContext=t,le(ot),le(Xe),ie(Xe,t)):le(ot),ie(ot,n)}var Gt=null,La=!1,Bl=!1;function hg(t){Gt===null?Gt=[t]:Gt.push(t)}function gE(t){La=!0,hg(t)}function Bn(){if(!Bl&&Gt!==null){Bl=!0;var t=0,e=ne;try{var n=Gt;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gt=null,La=!1}catch(i){throw Gt!==null&&(Gt=Gt.slice(t+1)),Lm(xc,Bn),i}finally{ne=e,Bl=!1}}return null}var Mr=[],Lr=0,ta=null,na=0,vt=[],_t=0,ur=null,Kt=1,Xt="";function Xn(t,e){Mr[Lr++]=na,Mr[Lr++]=ta,ta=t,na=e}function fg(t,e,n){vt[_t++]=Kt,vt[_t++]=Xt,vt[_t++]=ur,ur=t;var r=Kt;t=Xt;var i=32-Vt(r)-1;r&=~(1<<i),n+=1;var s=32-Vt(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Kt=1<<32-Vt(e)+i|n<<i|r,Xt=s+t}else Kt=1<<s|n<<i|r,Xt=t}function Fc(t){t.return!==null&&(Xn(t,1),fg(t,1,0))}function Uc(t){for(;t===ta;)ta=Mr[--Lr],Mr[Lr]=null,na=Mr[--Lr],Mr[Lr]=null;for(;t===ur;)ur=vt[--_t],vt[_t]=null,Xt=vt[--_t],vt[_t]=null,Kt=vt[--_t],vt[_t]=null}var dt=null,ft=null,he=!1,Rt=null;function dg(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ed(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ft=Cn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ur!==null?{id:Kt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dt=t,ft=null,!0):!1;default:return!1}}function Ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mu(t){if(he){var e=ft;if(e){var n=e;if(!Ed(t,e)){if(Ou(t))throw Error(L(418));e=Cn(n.nextSibling);var r=dt;e&&Ed(t,e)?dg(r,n):(t.flags=t.flags&-4097|2,he=!1,dt=t)}}else{if(Ou(t))throw Error(L(418));t.flags=t.flags&-4097|2,he=!1,dt=t}}}function wd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function po(t){if(t!==dt)return!1;if(!he)return wd(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xu(t.type,t.memoizedProps)),e&&(e=ft)){if(Ou(t))throw pg(),Error(L(418));for(;e;)dg(t,e),e=Cn(e.nextSibling)}if(wd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=Cn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=dt?Cn(t.stateNode.nextSibling):null;return!0}function pg(){for(var t=ft;t;)t=Cn(t.nextSibling)}function Yr(){ft=dt=null,he=!1}function zc(t){Rt===null?Rt=[t]:Rt.push(t)}var yE=an.ReactCurrentBatchConfig;function ji(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function mo(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Td(t){var e=t._init;return e(t._payload)}function mg(t){function e(T,v){if(t){var A=T.deletions;A===null?(T.deletions=[v],T.flags|=16):A.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=xn(T,v),T.index=0,T.sibling=null,T}function s(T,v,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<v?(T.flags|=2,v):A):(T.flags|=2,v)):(T.flags|=1048576,v)}function a(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,v,A,N){return v===null||v.tag!==6?(v=Kl(A,T.mode,N),v.return=T,v):(v=i(v,A),v.return=T,v)}function c(T,v,A,N){var b=A.type;return b===kr?m(T,v,A.props.children,N,A.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gn&&Td(b)===v.type)?(N=i(v,A.props),N.ref=ji(T,v,A),N.return=T,N):(N=jo(A.type,A.key,A.props,null,T.mode,N),N.ref=ji(T,v,A),N.return=T,N)}function f(T,v,A,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Xl(A,T.mode,N),v.return=T,v):(v=i(v,A.children||[]),v.return=T,v)}function m(T,v,A,N,b){return v===null||v.tag!==7?(v=ir(A,T.mode,N,b),v.return=T,v):(v=i(v,A),v.return=T,v)}function d(T,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Kl(""+v,T.mode,A),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ro:return A=jo(v.type,v.key,v.props,null,T.mode,A),A.ref=ji(T,null,v),A.return=T,A;case Rr:return v=Xl(v,T.mode,A),v.return=T,v;case gn:var N=v._init;return d(T,N(v._payload),A)}if(Bi(v)||Ni(v))return v=ir(v,T.mode,A,null),v.return=T,v;mo(T,v)}return null}function y(T,v,A,N){var b=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return b!==null?null:l(T,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ro:return A.key===b?c(T,v,A,N):null;case Rr:return A.key===b?f(T,v,A,N):null;case gn:return b=A._init,y(T,v,b(A._payload),N)}if(Bi(A)||Ni(A))return b!==null?null:m(T,v,A,N,null);mo(T,A)}return null}function R(T,v,A,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return T=T.get(A)||null,l(v,T,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ro:return T=T.get(N.key===null?A:N.key)||null,c(v,T,N,b);case Rr:return T=T.get(N.key===null?A:N.key)||null,f(v,T,N,b);case gn:var F=N._init;return R(T,v,A,F(N._payload),b)}if(Bi(N)||Ni(N))return T=T.get(A)||null,m(v,T,N,b,null);mo(v,N)}return null}function k(T,v,A,N){for(var b=null,F=null,_=v,g=v=0,E=null;_!==null&&g<A.length;g++){_.index>g?(E=_,_=null):E=_.sibling;var S=y(T,_,A[g],N);if(S===null){_===null&&(_=E);break}t&&_&&S.alternate===null&&e(T,_),v=s(S,v,g),F===null?b=S:F.sibling=S,F=S,_=E}if(g===A.length)return n(T,_),he&&Xn(T,g),b;if(_===null){for(;g<A.length;g++)_=d(T,A[g],N),_!==null&&(v=s(_,v,g),F===null?b=_:F.sibling=_,F=_);return he&&Xn(T,g),b}for(_=r(T,_);g<A.length;g++)E=R(_,T,g,A[g],N),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?g:E.key),v=s(E,v,g),F===null?b=E:F.sibling=E,F=E);return t&&_.forEach(function(I){return e(T,I)}),he&&Xn(T,g),b}function D(T,v,A,N){var b=Ni(A);if(typeof b!="function")throw Error(L(150));if(A=b.call(A),A==null)throw Error(L(151));for(var F=b=null,_=v,g=v=0,E=null,S=A.next();_!==null&&!S.done;g++,S=A.next()){_.index>g?(E=_,_=null):E=_.sibling;var I=y(T,_,S.value,N);if(I===null){_===null&&(_=E);break}t&&_&&I.alternate===null&&e(T,_),v=s(I,v,g),F===null?b=I:F.sibling=I,F=I,_=E}if(S.done)return n(T,_),he&&Xn(T,g),b;if(_===null){for(;!S.done;g++,S=A.next())S=d(T,S.value,N),S!==null&&(v=s(S,v,g),F===null?b=S:F.sibling=S,F=S);return he&&Xn(T,g),b}for(_=r(T,_);!S.done;g++,S=A.next())S=R(_,T,g,S.value,N),S!==null&&(t&&S.alternate!==null&&_.delete(S.key===null?g:S.key),v=s(S,v,g),F===null?b=S:F.sibling=S,F=S);return t&&_.forEach(function(C){return e(T,C)}),he&&Xn(T,g),b}function O(T,v,A,N){if(typeof A=="object"&&A!==null&&A.type===kr&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ro:e:{for(var b=A.key,F=v;F!==null;){if(F.key===b){if(b=A.type,b===kr){if(F.tag===7){n(T,F.sibling),v=i(F,A.props.children),v.return=T,T=v;break e}}else if(F.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gn&&Td(b)===F.type){n(T,F.sibling),v=i(F,A.props),v.ref=ji(T,F,A),v.return=T,T=v;break e}n(T,F);break}else e(T,F);F=F.sibling}A.type===kr?(v=ir(A.props.children,T.mode,N,A.key),v.return=T,T=v):(N=jo(A.type,A.key,A.props,null,T.mode,N),N.ref=ji(T,v,A),N.return=T,T=N)}return a(T);case Rr:e:{for(F=A.key;v!==null;){if(v.key===F)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(T,v.sibling),v=i(v,A.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Xl(A,T.mode,N),v.return=T,T=v}return a(T);case gn:return F=A._init,O(T,v,F(A._payload),N)}if(Bi(A))return k(T,v,A,N);if(Ni(A))return D(T,v,A,N);mo(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,A),v.return=T,T=v):(n(T,v),v=Kl(A,T.mode,N),v.return=T,T=v),a(T)):n(T,v)}return O}var Jr=mg(!0),gg=mg(!1),ra=zn(null),ia=null,jr=null,Bc=null;function $c(){Bc=jr=ia=null}function qc(t){var e=ra.current;le(ra),t._currentValue=e}function Lu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qr(t,e){ia=t,Bc=jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Tt(t){var e=t._currentValue;if(Bc!==t)if(t={context:t,memoizedValue:e,next:null},jr===null){if(ia===null)throw Error(L(308));jr=t,ia.dependencies={lanes:0,firstContext:t}}else jr=jr.next=t;return e}var er=null;function Hc(t){er===null?er=[t]:er.push(t)}function yg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hc(e)):(n.next=i.next,i.next=n),e.interleaved=n,rn(t,r)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yn=!1;function Wc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rn(t,n)}return i=r.interleaved,i===null?(e.next=e,Hc(r)):(e.next=i.next,i.next=e),r.interleaved=e,rn(t,n)}function Do(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}function Sd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sa(t,e,n,r){var i=t.updateQueue;yn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,f=c.next;c.next=null,a===null?s=f:a.next=f,a=c;var m=t.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=f:l.next=f,m.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;a=0,m=f=c=null,l=s;do{var y=l.lane,R=l.eventTime;if((r&y)===y){m!==null&&(m=m.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,D=l;switch(y=e,R=n,D.tag){case 1:if(k=D.payload,typeof k=="function"){d=k.call(R,d,y);break e}d=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=D.payload,y=typeof k=="function"?k.call(R,d,y):k,y==null)break e;d=ge({},d,y);break e;case 2:yn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else R={eventTime:R,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(f=m=R,c=d):m=m.next=R,a|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(m===null&&(c=d),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hr|=a,t.lanes=a,t.memoizedState=d}}function Id(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var js={},$t=zn(js),vs=zn(js),_s=zn(js);function tr(t){if(t===js)throw Error(L(174));return t}function Qc(t,e){switch(ie(_s,e),ie(vs,t),ie($t,js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gu(e,t)}le($t),ie($t,e)}function Zr(){le($t),le(vs),le(_s)}function _g(t){tr(_s.current);var e=tr($t.current),n=gu(e,t.type);e!==n&&(ie(vs,t),ie($t,n))}function Gc(t){vs.current===t&&(le($t),le(vs))}var de=zn(0);function oa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $l=[];function Kc(){for(var t=0;t<$l.length;t++)$l[t]._workInProgressVersionPrimary=null;$l.length=0}var No=an.ReactCurrentDispatcher,ql=an.ReactCurrentBatchConfig,cr=0,me=null,Ce=null,De=null,aa=!1,Yi=!1,Es=0,vE=0;function $e(){throw Error(L(321))}function Xc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function Yc(t,e,n,r,i,s){if(cr=s,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,No.current=t===null||t.memoizedState===null?TE:SE,t=n(r,i),Yi){s=0;do{if(Yi=!1,Es=0,25<=s)throw Error(L(301));s+=1,De=Ce=null,e.updateQueue=null,No.current=IE,t=n(r,i)}while(Yi)}if(No.current=la,e=Ce!==null&&Ce.next!==null,cr=0,De=Ce=me=null,aa=!1,e)throw Error(L(300));return t}function Jc(){var t=Es!==0;return Es=0,t}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?me.memoizedState=De=t:De=De.next=t,De}function St(){if(Ce===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=De===null?me.memoizedState:De.next;if(e!==null)De=e,Ce=t;else{if(t===null)throw Error(L(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},De===null?me.memoizedState=De=t:De=De.next=t}return De}function ws(t,e){return typeof e=="function"?e(t):e}function Hl(t){var e=St(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=Ce,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,f=s;do{var m=f.lane;if((cr&m)===m)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var d={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,me.lanes|=m,hr|=m}f=f.next}while(f!==null&&f!==s);c===null?a=r:c.next=l,Mt(r,e.memoizedState)||(st=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,me.lanes|=s,hr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wl(t){var e=St(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Mt(s,e.memoizedState)||(st=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Eg(){}function wg(t,e){var n=me,r=St(),i=e(),s=!Mt(r.memoizedState,i);if(s&&(r.memoizedState=i,st=!0),r=r.queue,Zc(Ig.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Ts(9,Sg.bind(null,n,r,i,e),void 0,null),Ve===null)throw Error(L(349));cr&30||Tg(n,e,i)}return i}function Tg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sg(t,e,n,r){e.value=n,e.getSnapshot=r,Ag(e)&&Cg(t)}function Ig(t,e,n){return n(function(){Ag(e)&&Cg(t)})}function Ag(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function Cg(t){var e=rn(t,1);e!==null&&Ot(e,t,1,-1)}function Ad(t){var e=Ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=wE.bind(null,me,t),[e.memoizedState,t]}function Ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Pg(){return St().memoizedState}function Vo(t,e,n,r){var i=Ft();me.flags|=t,i.memoizedState=Ts(1|e,n,void 0,r===void 0?null:r)}function ja(t,e,n,r){var i=St();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var a=Ce.memoizedState;if(s=a.destroy,r!==null&&Xc(r,a.deps)){i.memoizedState=Ts(e,n,s,r);return}}me.flags|=t,i.memoizedState=Ts(1|e,n,s,r)}function Cd(t,e){return Vo(8390656,8,t,e)}function Zc(t,e){return ja(2048,8,t,e)}function Rg(t,e){return ja(4,2,t,e)}function kg(t,e){return ja(4,4,t,e)}function xg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dg(t,e,n){return n=n!=null?n.concat([t]):null,ja(4,4,xg.bind(null,e,t),n)}function eh(){}function Ng(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vg(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Og(t,e,n){return cr&21?(Mt(n,e)||(n=Fm(),me.lanes|=n,hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function _E(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=ql.transition;ql.transition={};try{t(!1),e()}finally{ne=n,ql.transition=r}}function Mg(){return St().memoizedState}function EE(t,e,n){var r=kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lg(t))jg(e,n);else if(n=yg(t,e,n,r),n!==null){var i=et();Ot(n,t,r,i),bg(n,e,r)}}function wE(t,e,n){var r=kn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lg(t))jg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Mt(l,a)){var c=e.interleaved;c===null?(i.next=i,Hc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=yg(t,e,i,r),n!==null&&(i=et(),Ot(n,t,r,i),bg(n,e,r))}}function Lg(t){var e=t.alternate;return t===me||e!==null&&e===me}function jg(t,e){Yi=aa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}var la={readContext:Tt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},TE={readContext:Tt,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:Tt,useEffect:Cd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vo(4194308,4,xg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vo(4,2,t,e)},useMemo:function(t,e){var n=Ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ft();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EE.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:Ad,useDebugValue:eh,useDeferredValue:function(t){return Ft().memoizedState=t},useTransition:function(){var t=Ad(!1),e=t[0];return t=_E.bind(null,t[1]),Ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,i=Ft();if(he){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),Ve===null)throw Error(L(349));cr&30||Tg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Cd(Ig.bind(null,r,s,t),[t]),r.flags|=2048,Ts(9,Sg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ft(),e=Ve.identifierPrefix;if(he){var n=Xt,r=Kt;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Es++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SE={readContext:Tt,useCallback:Ng,useContext:Tt,useEffect:Zc,useImperativeHandle:Dg,useInsertionEffect:Rg,useLayoutEffect:kg,useMemo:Vg,useReducer:Hl,useRef:Pg,useState:function(){return Hl(ws)},useDebugValue:eh,useDeferredValue:function(t){var e=St();return Og(e,Ce.memoizedState,t)},useTransition:function(){var t=Hl(ws)[0],e=St().memoizedState;return[t,e]},useMutableSource:Eg,useSyncExternalStore:wg,useId:Mg,unstable_isNewReconciler:!1},IE={readContext:Tt,useCallback:Ng,useContext:Tt,useEffect:Zc,useImperativeHandle:Dg,useInsertionEffect:Rg,useLayoutEffect:kg,useMemo:Vg,useReducer:Wl,useRef:Pg,useState:function(){return Wl(ws)},useDebugValue:eh,useDeferredValue:function(t){var e=St();return Ce===null?e.memoizedState=t:Og(e,Ce.memoizedState,t)},useTransition:function(){var t=Wl(ws)[0],e=St().memoizedState;return[t,e]},useMutableSource:Eg,useSyncExternalStore:wg,useId:Mg,unstable_isNewReconciler:!1};function Ct(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ju(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ba={isMounted:function(t){return(t=t._reactInternals)?vr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=et(),i=kn(t),s=Yt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pn(t,s,i),e!==null&&(Ot(e,t,i,r),Do(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=et(),i=kn(t),s=Yt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pn(t,s,i),e!==null&&(Ot(e,t,i,r),Do(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=et(),r=kn(t),i=Yt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pn(t,i,r),e!==null&&(Ot(e,t,r,n),Do(e,t,r))}};function Pd(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ps(n,r)||!ps(i,s):!0}function Fg(t,e,n){var r=!1,i=Mn,s=e.contextType;return typeof s=="object"&&s!==null?s=Tt(s):(i=at(e)?lr:Xe.current,r=e.contextTypes,s=(r=r!=null)?Xr(t,i):Mn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ba,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ba.enqueueReplaceState(e,e.state,null)}function bu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Wc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tt(s):(s=at(e)?lr:Xe.current,i.context=Xr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ju(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ba.enqueueReplaceState(i,i.state,null),sa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ei(t,e){try{var n="",r=e;do n+=J_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ql(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AE=typeof WeakMap=="function"?WeakMap:Map;function Ug(t,e,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ca||(ca=!0,Ku=r),Fu(t,e)},n}function zg(t,e,n){n=Yt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fu(t,e),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function kd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FE.bind(null,t,e,n),e.then(t,t))}function xd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yt(-1,1),e.tag=2,Pn(n,e,1))),n.lanes|=1),t)}var CE=an.ReactCurrentOwner,st=!1;function Ze(t,e,n,r){e.child=t===null?gg(e,null,n,r):Jr(e,t.child,n,r)}function Nd(t,e,n,r,i){n=n.render;var s=e.ref;return qr(e,i),r=Yc(t,e,n,r,s,i),n=Jc(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(he&&n&&Fc(e),e.flags|=1,Ze(t,e,r,i),e.child)}function Vd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Bg(t,e,s,r,i)):(t=jo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(a,r)&&t.ref===e.ref)return sn(t,e,i)}return e.flags|=1,t=xn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Bg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ps(s,r)&&t.ref===e.ref)if(st=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,sn(t,e,i)}return Uu(t,e,n,r,i)}function $g(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Fr,ht),ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Fr,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(Fr,ht),ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ie(Fr,ht),ht|=r;return Ze(t,e,i,n),e.child}function qg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uu(t,e,n,r,i){var s=at(n)?lr:Xe.current;return s=Xr(e,s),qr(e,i),n=Yc(t,e,n,r,s,i),r=Jc(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(he&&r&&Fc(e),e.flags|=1,Ze(t,e,n,i),e.child)}function Od(t,e,n,r,i){if(at(n)){var s=!0;ea(e)}else s=!1;if(qr(e,i),e.stateNode===null)Oo(t,e),Fg(e,n,r),bu(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Tt(f):(f=at(n)?lr:Xe.current,f=Xr(e,f));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==f)&&Rd(e,a,r,f),yn=!1;var y=e.memoizedState;a.state=y,sa(e,r,a,i),c=e.memoizedState,l!==r||y!==c||ot.current||yn?(typeof m=="function"&&(ju(e,n,m,r),c=e.memoizedState),(l=yn||Pd(e,n,l,r,y,c,f))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,vg(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:Ct(e.type,l),a.props=f,d=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Tt(c):(c=at(n)?lr:Xe.current,c=Xr(e,c));var R=n.getDerivedStateFromProps;(m=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||y!==c)&&Rd(e,a,r,c),yn=!1,y=e.memoizedState,a.state=y,sa(e,r,a,i);var k=e.memoizedState;l!==d||y!==k||ot.current||yn?(typeof R=="function"&&(ju(e,n,R,r),k=e.memoizedState),(f=yn||Pd(e,n,f,r,y,k,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),a.props=r,a.state=k,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return zu(t,e,n,r,s,i)}function zu(t,e,n,r,i,s){qg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&_d(e,n,!1),sn(t,e,s);r=e.stateNode,CE.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Jr(e,t.child,null,s),e.child=Jr(e,null,l,s)):Ze(t,e,l,s),e.memoizedState=r.state,i&&_d(e,n,!0),e.child}function Hg(t){var e=t.stateNode;e.pendingContext?vd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vd(t,e.context,!1),Qc(t,e.containerInfo)}function Md(t,e,n,r,i){return Yr(),zc(i),e.flags|=256,Ze(t,e,n,r),e.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function $u(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wg(t,e,n){var r=e.pendingProps,i=de.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ie(de,i&1),t===null)return Mu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=za(a,r,0,null),t=ir(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$u(n),e.memoizedState=Bu,t):th(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return PE(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=xn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=xn(l,s):(s=ir(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?$u(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Bu,r}return s=t.child,t=s.sibling,r=xn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function th(t,e){return e=za({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function go(t,e,n,r){return r!==null&&zc(r),Jr(e,t.child,null,n),t=th(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PE(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Ql(Error(L(422))),go(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=za({mode:"visible",children:r.children},i,0,null),s=ir(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Jr(e,t.child,null,a),e.child.memoizedState=$u(a),e.memoizedState=Bu,s);if(!(e.mode&1))return go(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(L(419)),r=Ql(s,r,void 0),go(t,e,a,r)}if(l=(a&t.childLanes)!==0,st||l){if(r=Ve,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rn(t,i),Ot(r,t,i,-1))}return ah(),r=Ql(Error(L(421))),go(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ft=Cn(i.nextSibling),dt=e,he=!0,Rt=null,t!==null&&(vt[_t++]=Kt,vt[_t++]=Xt,vt[_t++]=ur,Kt=t.id,Xt=t.overflow,ur=e),e=th(e,r.children),e.flags|=4096,e)}function Ld(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lu(t.return,e,n)}function Gl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qg(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ze(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ld(t,n,e);else if(t.tag===19)Ld(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(de,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gl(e,!0,n,null,s);break;case"together":Gl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RE(t,e,n){switch(e.tag){case 3:Hg(e),Yr();break;case 5:_g(e);break;case 1:at(e.type)&&ea(e);break;case 4:Qc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ie(ra,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?Wg(t,e,n):(ie(de,de.current&1),t=sn(t,e,n),t!==null?t.sibling:null);ie(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,$g(t,e,n)}return sn(t,e,n)}var Gg,qu,Kg,Xg;Gg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qu=function(){};Kg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tr($t.current);var s=null;switch(n){case"input":i=fu(t,i),r=fu(t,r),s=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":i=mu(t,i),r=mu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jo)}yu(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(as.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(as.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ae("scroll",t),s||l===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};Xg=function(t,e,n,r){n!==r&&(e.flags|=4)};function bi(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kE(t,e,n){var r=e.pendingProps;switch(Uc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return at(e.type)&&Zo(),qe(e),null;case 3:return r=e.stateNode,Zr(),le(ot),le(Xe),Kc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(po(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rt!==null&&(Ju(Rt),Rt=null))),qu(t,e),qe(e),null;case 5:Gc(e);var i=tr(_s.current);if(n=e.type,t!==null&&e.stateNode!=null)Kg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return qe(e),null}if(t=tr($t.current),po(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zt]=e,r[ys]=s,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<qi.length;i++)ae(qi[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Hf(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":Qf(r,s),ae("invalid",r)}yu(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&fo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&fo(r.textContent,l,t),i=["children",""+l]):as.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ae("scroll",r)}switch(n){case"input":io(r),Wf(r,s,!0);break;case"textarea":io(r),Gf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Im(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[zt]=e,t[ys]=r,Gg(t,e,!1,!1),e.stateNode=t;e:{switch(a=vu(n,r),n){case"dialog":ae("cancel",t),ae("close",t),i=r;break;case"iframe":case"object":case"embed":ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<qi.length;i++)ae(qi[i],t);i=r;break;case"source":ae("error",t),i=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=r;break;case"details":ae("toggle",t),i=r;break;case"input":Hf(t,r),i=fu(t,r),ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ae("invalid",t);break;case"textarea":Qf(t,r),i=mu(t,r),ae("invalid",t);break;default:i=r}yu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Pm(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Am(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ls(t,c):typeof c=="number"&&ls(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(as.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ae("scroll",t):c!=null&&Ac(t,s,c,a))}switch(n){case"input":io(t),Wf(t,r,!1);break;case"textarea":io(t),Gf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+On(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ur(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ur(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)Xg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=tr(_s.current),tr($t.current),po(e)){if(r=e.stateNode,n=e.memoizedProps,r[zt]=e,(s=r.nodeValue!==n)&&(t=dt,t!==null))switch(t.tag){case 3:fo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=e,e.stateNode=r}return qe(e),null;case 13:if(le(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&ft!==null&&e.mode&1&&!(e.flags&128))pg(),Yr(),e.flags|=98560,s=!1;else if(s=po(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[zt]=e}else Yr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),s=!1}else Rt!==null&&(Ju(Rt),Rt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Pe===0&&(Pe=3):ah())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return Zr(),qu(t,e),t===null&&ms(e.stateNode.containerInfo),qe(e),null;case 10:return qc(e.type._context),qe(e),null;case 17:return at(e.type)&&Zo(),qe(e),null;case 19:if(le(de),s=e.memoizedState,s===null)return qe(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)bi(s,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=oa(t),a!==null){for(e.flags|=128,bi(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(de,de.current&1|2),e.child}t=t.sibling}s.tail!==null&&we()>ti&&(e.flags|=128,r=!0,bi(s,!1),e.lanes=4194304)}else{if(!r)if(t=oa(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!he)return qe(e),null}else 2*we()-s.renderingStartTime>ti&&n!==1073741824&&(e.flags|=128,r=!0,bi(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=we(),e.sibling=null,n=de.current,ie(de,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return oh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ht&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function xE(t,e){switch(Uc(e),e.tag){case 1:return at(e.type)&&Zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zr(),le(ot),le(Xe),Kc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gc(e),null;case 13:if(le(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Yr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(de),null;case 4:return Zr(),null;case 10:return qc(e.type._context),null;case 22:case 23:return oh(),null;case 24:return null;default:return null}}var yo=!1,Qe=!1,DE=typeof WeakSet=="function"?WeakSet:Set,z=null;function br(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function Hu(t,e,n){try{n()}catch(r){ve(t,e,r)}}var jd=!1;function NE(t,e){if(Ru=Ko,t=tg(),bc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,f=0,m=0,d=t,y=null;t:for(;;){for(var R;d!==n||i!==0&&d.nodeType!==3||(l=a+i),d!==s||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(R=d.firstChild)!==null;)y=d,d=R;for(;;){if(d===t)break t;if(y===n&&++f===i&&(l=a),y===s&&++m===r&&(c=a),(R=d.nextSibling)!==null)break;d=y,y=d.parentNode}d=R}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:t,selectionRange:n},Ko=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var D=k.memoizedProps,O=k.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?D:Ct(e.type,D),O);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(N){ve(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return k=jd,jd=!1,k}function Ji(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Hu(e,n,s)}i=i.next}while(i!==r)}}function Fa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yg(t){var e=t.alternate;e!==null&&(t.alternate=null,Yg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zt],delete e[ys],delete e[Nu],delete e[pE],delete e[mE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jg(t){return t.tag===5||t.tag===3||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jo));else if(r!==4&&(t=t.child,t!==null))for(Qu(t,e,n),t=t.sibling;t!==null;)Qu(t,e,n),t=t.sibling}function Gu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gu(t,e,n),t=t.sibling;t!==null;)Gu(t,e,n),t=t.sibling}var Me=null,Pt=!1;function mn(t,e,n){for(n=n.child;n!==null;)Zg(t,e,n),n=n.sibling}function Zg(t,e,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Da,n)}catch{}switch(n.tag){case 5:Qe||br(n,e);case 6:var r=Me,i=Pt;Me=null,mn(t,e,n),Me=r,Pt=i,Me!==null&&(Pt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Pt?(t=Me,n=n.stateNode,t.nodeType===8?zl(t.parentNode,n):t.nodeType===1&&zl(t,n),fs(t)):zl(Me,n.stateNode));break;case 4:r=Me,i=Pt,Me=n.stateNode.containerInfo,Pt=!0,mn(t,e,n),Me=r,Pt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Hu(n,e,a),i=i.next}while(i!==r)}mn(t,e,n);break;case 1:if(!Qe&&(br(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ve(n,e,l)}mn(t,e,n);break;case 21:mn(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,mn(t,e,n),Qe=r):mn(t,e,n);break;default:mn(t,e,n)}}function Fd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DE),e.forEach(function(r){var i=zE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function At(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,Pt=!1;break e;case 3:Me=l.stateNode.containerInfo,Pt=!0;break e;case 4:Me=l.stateNode.containerInfo,Pt=!0;break e}l=l.return}if(Me===null)throw Error(L(160));Zg(s,a,i),Me=null,Pt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ve(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ey(e,t),e=e.sibling}function ey(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(At(e,t),bt(t),r&4){try{Ji(3,t,t.return),Fa(3,t)}catch(D){ve(t,t.return,D)}try{Ji(5,t,t.return)}catch(D){ve(t,t.return,D)}}break;case 1:At(e,t),bt(t),r&512&&n!==null&&br(n,n.return);break;case 5:if(At(e,t),bt(t),r&512&&n!==null&&br(n,n.return),t.flags&32){var i=t.stateNode;try{ls(i,"")}catch(D){ve(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Tm(i,s),vu(l,a);var f=vu(l,s);for(a=0;a<c.length;a+=2){var m=c[a],d=c[a+1];m==="style"?Pm(i,d):m==="dangerouslySetInnerHTML"?Am(i,d):m==="children"?ls(i,d):Ac(i,m,d,f)}switch(l){case"input":du(i,s);break;case"textarea":Sm(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var R=s.value;R!=null?Ur(i,!!s.multiple,R,!1):y!==!!s.multiple&&(s.defaultValue!=null?Ur(i,!!s.multiple,s.defaultValue,!0):Ur(i,!!s.multiple,s.multiple?[]:"",!1))}i[ys]=s}catch(D){ve(t,t.return,D)}}break;case 6:if(At(e,t),bt(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(D){ve(t,t.return,D)}}break;case 3:if(At(e,t),bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fs(e.containerInfo)}catch(D){ve(t,t.return,D)}break;case 4:At(e,t),bt(t);break;case 13:At(e,t),bt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ih=we())),r&4&&Fd(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(f=Qe)||m,At(e,t),Qe=f):At(e,t),bt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(z=t,m=t.child;m!==null;){for(d=z=m;z!==null;){switch(y=z,R=y.child,y.tag){case 0:case 11:case 14:case 15:Ji(4,y,y.return);break;case 1:br(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(D){ve(r,n,D)}}break;case 5:br(y,y.return);break;case 22:if(y.memoizedState!==null){zd(d);continue}}R!==null?(R.return=y,z=R):zd(d)}m=m.sibling}e:for(m=null,d=t;;){if(d.tag===5){if(m===null){m=d;try{i=d.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cm("display",a))}catch(D){ve(t,t.return,D)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(D){ve(t,t.return,D)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:At(e,t),bt(t),r&4&&Fd(t);break;case 21:break;default:At(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jg(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ls(i,""),r.flags&=-33);var s=bd(t);Gu(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=bd(t);Qu(t,l,a);break;default:throw Error(L(161))}}catch(c){ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VE(t,e,n){z=t,ty(t)}function ty(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||yo;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Qe;l=yo;var f=Qe;if(yo=a,(Qe=c)&&!f)for(z=i;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?Bd(i):c!==null?(c.return=a,z=c):Bd(i);for(;s!==null;)z=s,ty(s),s=s.sibling;z=i,yo=l,Qe=f}Ud(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Ud(t)}}function Ud(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||Fa(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ct(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Id(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Id(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&fs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Qe||e.flags&512&&Wu(e)}catch(y){ve(e,e.return,y)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function zd(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Bd(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fa(4,e)}catch(c){ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ve(e,i,c)}}var s=e.return;try{Wu(e)}catch(c){ve(e,s,c)}break;case 5:var a=e.return;try{Wu(e)}catch(c){ve(e,a,c)}}}catch(c){ve(e,e.return,c)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var OE=Math.ceil,ua=an.ReactCurrentDispatcher,nh=an.ReactCurrentOwner,wt=an.ReactCurrentBatchConfig,Z=0,Ve=null,Se=null,Fe=0,ht=0,Fr=zn(0),Pe=0,Ss=null,hr=0,Ua=0,rh=0,Zi=null,it=null,ih=0,ti=1/0,Qt=null,ca=!1,Ku=null,Rn=null,vo=!1,wn=null,ha=0,es=0,Xu=null,Mo=-1,Lo=0;function et(){return Z&6?we():Mo!==-1?Mo:Mo=we()}function kn(t){return t.mode&1?Z&2&&Fe!==0?Fe&-Fe:yE.transition!==null?(Lo===0&&(Lo=Fm()),Lo):(t=ne,t!==0||(t=window.event,t=t===void 0?16:Wm(t.type)),t):1}function Ot(t,e,n,r){if(50<es)throw es=0,Xu=null,Error(L(185));Os(t,n,r),(!(Z&2)||t!==Ve)&&(t===Ve&&(!(Z&2)&&(Ua|=n),Pe===4&&_n(t,Fe)),lt(t,r),n===1&&Z===0&&!(e.mode&1)&&(ti=we()+500,La&&Bn()))}function lt(t,e){var n=t.callbackNode;y0(t,e);var r=Go(t,t===Ve?Fe:0);if(r===0)n!==null&&Yf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yf(n),e===1)t.tag===0?gE($d.bind(null,t)):hg($d.bind(null,t)),fE(function(){!(Z&6)&&Bn()}),n=null;else{switch(Um(r)){case 1:n=xc;break;case 4:n=jm;break;case 16:n=Qo;break;case 536870912:n=bm;break;default:n=Qo}n=uy(n,ny.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ny(t,e){if(Mo=-1,Lo=0,Z&6)throw Error(L(327));var n=t.callbackNode;if(Hr()&&t.callbackNode!==n)return null;var r=Go(t,t===Ve?Fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fa(t,r);else{e=r;var i=Z;Z|=2;var s=iy();(Ve!==t||Fe!==e)&&(Qt=null,ti=we()+500,rr(t,e));do try{jE();break}catch(l){ry(t,l)}while(!0);$c(),ua.current=s,Z=i,Se!==null?e=0:(Ve=null,Fe=0,e=Pe)}if(e!==0){if(e===2&&(i=Su(t),i!==0&&(r=i,e=Yu(t,i))),e===1)throw n=Ss,rr(t,0),_n(t,r),lt(t,we()),n;if(e===6)_n(t,r);else{if(i=t.current.alternate,!(r&30)&&!ME(i)&&(e=fa(t,r),e===2&&(s=Su(t),s!==0&&(r=s,e=Yu(t,s))),e===1))throw n=Ss,rr(t,0),_n(t,r),lt(t,we()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:Yn(t,it,Qt);break;case 3:if(_n(t,r),(r&130023424)===r&&(e=ih+500-we(),10<e)){if(Go(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Du(Yn.bind(null,t,it,Qt),e);break}Yn(t,it,Qt);break;case 4:if(_n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Vt(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OE(r/1960))-r,10<r){t.timeoutHandle=Du(Yn.bind(null,t,it,Qt),r);break}Yn(t,it,Qt);break;case 5:Yn(t,it,Qt);break;default:throw Error(L(329))}}}return lt(t,we()),t.callbackNode===n?ny.bind(null,t):null}function Yu(t,e){var n=Zi;return t.current.memoizedState.isDehydrated&&(rr(t,e).flags|=256),t=fa(t,e),t!==2&&(e=it,it=n,e!==null&&Ju(e)),t}function Ju(t){it===null?it=t:it.push.apply(it,t)}function ME(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~rh,e&=~Ua,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vt(e),r=1<<n;t[n]=-1,e&=~r}}function $d(t){if(Z&6)throw Error(L(327));Hr();var e=Go(t,0);if(!(e&1))return lt(t,we()),null;var n=fa(t,e);if(t.tag!==0&&n===2){var r=Su(t);r!==0&&(e=r,n=Yu(t,r))}if(n===1)throw n=Ss,rr(t,0),_n(t,e),lt(t,we()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yn(t,it,Qt),lt(t,we()),null}function sh(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(ti=we()+500,La&&Bn())}}function fr(t){wn!==null&&wn.tag===0&&!(Z&6)&&Hr();var e=Z;Z|=1;var n=wt.transition,r=ne;try{if(wt.transition=null,ne=1,t)return t()}finally{ne=r,wt.transition=n,Z=e,!(Z&6)&&Bn()}}function oh(){ht=Fr.current,le(Fr)}function rr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hE(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Uc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:Zr(),le(ot),le(Xe),Kc();break;case 5:Gc(r);break;case 4:Zr();break;case 13:le(de);break;case 19:le(de);break;case 10:qc(r.type._context);break;case 22:case 23:oh()}n=n.return}if(Ve=t,Se=t=xn(t.current,null),Fe=ht=e,Pe=0,Ss=null,rh=Ua=hr=0,it=Zi=null,er!==null){for(e=0;e<er.length;e++)if(n=er[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}er=null}return t}function ry(t,e){do{var n=Se;try{if($c(),No.current=la,aa){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}aa=!1}if(cr=0,De=Ce=me=null,Yi=!1,Es=0,nh.current=null,n===null||n.return===null){Pe=1,Ss=e,Se=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=Fe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,m=l,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var R=xd(a);if(R!==null){R.flags&=-257,Dd(R,a,l,s,e),R.mode&1&&kd(s,f,e),e=R,c=f;var k=e.updateQueue;if(k===null){var D=new Set;D.add(c),e.updateQueue=D}else k.add(c);break e}else{if(!(e&1)){kd(s,f,e),ah();break e}c=Error(L(426))}}else if(he&&l.mode&1){var O=xd(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Dd(O,a,l,s,e),zc(ei(c,l));break e}}s=c=ei(c,l),Pe!==4&&(Pe=2),Zi===null?Zi=[s]:Zi.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=Ug(s,c,e);Sd(s,T);break e;case 1:l=c;var v=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Rn===null||!Rn.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=zg(s,l,e);Sd(s,N);break e}}s=s.return}while(s!==null)}oy(n)}catch(b){e=b,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function iy(){var t=ua.current;return ua.current=la,t===null?la:t}function ah(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ve===null||!(hr&268435455)&&!(Ua&268435455)||_n(Ve,Fe)}function fa(t,e){var n=Z;Z|=2;var r=iy();(Ve!==t||Fe!==e)&&(Qt=null,rr(t,e));do try{LE();break}catch(i){ry(t,i)}while(!0);if($c(),Z=n,ua.current=r,Se!==null)throw Error(L(261));return Ve=null,Fe=0,Pe}function LE(){for(;Se!==null;)sy(Se)}function jE(){for(;Se!==null&&!l0();)sy(Se)}function sy(t){var e=ly(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?oy(t):Se=e,nh.current=null}function oy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xE(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,Se=null;return}}else if(n=kE(n,e,ht),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Pe===0&&(Pe=5)}function Yn(t,e,n){var r=ne,i=wt.transition;try{wt.transition=null,ne=1,bE(t,e,n,r)}finally{wt.transition=i,ne=r}return null}function bE(t,e,n,r){do Hr();while(wn!==null);if(Z&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(v0(t,s),t===Ve&&(Se=Ve=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vo||(vo=!0,uy(Qo,function(){return Hr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wt.transition,wt.transition=null;var a=ne;ne=1;var l=Z;Z|=4,nh.current=null,NE(t,n),ey(n,t),iE(ku),Ko=!!Ru,ku=Ru=null,t.current=n,VE(n),u0(),Z=l,ne=a,wt.transition=s}else t.current=n;if(vo&&(vo=!1,wn=t,ha=i),s=t.pendingLanes,s===0&&(Rn=null),f0(n.stateNode),lt(t,we()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ca)throw ca=!1,t=Ku,Ku=null,t;return ha&1&&t.tag!==0&&Hr(),s=t.pendingLanes,s&1?t===Xu?es++:(es=0,Xu=t):es=0,Bn(),null}function Hr(){if(wn!==null){var t=Um(ha),e=wt.transition,n=ne;try{if(wt.transition=null,ne=16>t?16:t,wn===null)var r=!1;else{if(t=wn,wn=null,ha=0,Z&6)throw Error(L(331));var i=Z;for(Z|=4,z=t.current;z!==null;){var s=z,a=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var f=l[c];for(z=f;z!==null;){var m=z;switch(m.tag){case 0:case 11:case 15:Ji(8,m,s)}var d=m.child;if(d!==null)d.return=m,z=d;else for(;z!==null;){m=z;var y=m.sibling,R=m.return;if(Yg(m),m===f){z=null;break}if(y!==null){y.return=R,z=y;break}z=R}}}var k=s.alternate;if(k!==null){var D=k.child;if(D!==null){k.child=null;do{var O=D.sibling;D.sibling=null,D=O}while(D!==null)}}z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,z=a;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ji(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,z=T;break e}z=s.return}}var v=t.current;for(z=v;z!==null;){a=z;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,z=A;else e:for(a=v;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fa(9,l)}}catch(b){ve(l,l.return,b)}if(l===a){z=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,z=N;break e}z=l.return}}if(Z=i,Bn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Da,t)}catch{}r=!0}return r}finally{ne=n,wt.transition=e}}return!1}function qd(t,e,n){e=ei(n,e),e=Ug(t,e,1),t=Pn(t,e,1),e=et(),t!==null&&(Os(t,1,e),lt(t,e))}function ve(t,e,n){if(t.tag===3)qd(t,t,n);else for(;e!==null;){if(e.tag===3){qd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){t=ei(n,t),t=zg(e,t,1),e=Pn(e,t,1),t=et(),e!==null&&(Os(e,1,t),lt(e,t));break}}e=e.return}}function FE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(Fe&n)===n&&(Pe===4||Pe===3&&(Fe&130023424)===Fe&&500>we()-ih?rr(t,0):rh|=n),lt(t,e)}function ay(t,e){e===0&&(t.mode&1?(e=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):e=1);var n=et();t=rn(t,e),t!==null&&(Os(t,e,n),lt(t,n))}function UE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ay(t,n)}function zE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),ay(t,n)}var ly;ly=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,RE(t,e,n);st=!!(t.flags&131072)}else st=!1,he&&e.flags&1048576&&fg(e,na,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oo(t,e),t=e.pendingProps;var i=Xr(e,Xe.current);qr(e,n),i=Yc(null,e,r,t,i,n);var s=Jc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(r)?(s=!0,ea(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wc(e),i.updater=ba,e.stateNode=i,i._reactInternals=e,bu(e,r,t,n),e=zu(null,e,r,!0,s,n)):(e.tag=0,he&&s&&Fc(e),Ze(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$E(r),t=Ct(r,t),i){case 0:e=Uu(null,e,r,t,n);break e;case 1:e=Od(null,e,r,t,n);break e;case 11:e=Nd(null,e,r,t,n);break e;case 14:e=Vd(null,e,r,Ct(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Uu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Od(t,e,r,i,n);case 3:e:{if(Hg(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vg(t,e),sa(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ei(Error(L(423)),e),e=Md(t,e,r,n,i);break e}else if(r!==i){i=ei(Error(L(424)),e),e=Md(t,e,r,n,i);break e}else for(ft=Cn(e.stateNode.containerInfo.firstChild),dt=e,he=!0,Rt=null,n=gg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yr(),r===i){e=sn(t,e,n);break e}Ze(t,e,r,n)}e=e.child}return e;case 5:return _g(e),t===null&&Mu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,xu(r,i)?a=null:s!==null&&xu(r,s)&&(e.flags|=32),qg(t,e),Ze(t,e,a,n),e.child;case 6:return t===null&&Mu(e),null;case 13:return Wg(t,e,n);case 4:return Qc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Jr(e,null,r,n):Ze(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Nd(t,e,r,i,n);case 7:return Ze(t,e,e.pendingProps,n),e.child;case 8:return Ze(t,e,e.pendingProps.children,n),e.child;case 12:return Ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ie(ra,r._currentValue),r._currentValue=a,s!==null)if(Mt(s.value,a)){if(s.children===i.children&&!ot.current){e=sn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yt(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?c.next=c:(c.next=m.next,m.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Lu(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(L(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Lu(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ze(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qr(e,n),i=Tt(i),r=r(i),e.flags|=1,Ze(t,e,r,n),e.child;case 14:return r=e.type,i=Ct(r,e.pendingProps),i=Ct(r.type,i),Vd(t,e,r,i,n);case 15:return Bg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Oo(t,e),e.tag=1,at(r)?(t=!0,ea(e)):t=!1,qr(e,n),Fg(e,r,i),bu(e,r,i,n),zu(null,e,r,!0,t,n);case 19:return Qg(t,e,n);case 22:return $g(t,e,n)}throw Error(L(156,e.tag))};function uy(t,e){return Lm(t,e)}function BE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,r){return new BE(t,e,n,r)}function lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $E(t){if(typeof t=="function")return lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pc)return 11;if(t===Rc)return 14}return 2}function xn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jo(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")lh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case kr:return ir(n.children,i,s,e);case Cc:a=8,i|=8;break;case lu:return t=Et(12,n,e,i|2),t.elementType=lu,t.lanes=s,t;case uu:return t=Et(13,n,e,i),t.elementType=uu,t.lanes=s,t;case cu:return t=Et(19,n,e,i),t.elementType=cu,t.lanes=s,t;case _m:return za(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ym:a=10;break e;case vm:a=9;break e;case Pc:a=11;break e;case Rc:a=14;break e;case gn:a=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Et(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ir(t,e,n,r){return t=Et(7,t,r,e),t.lanes=n,t}function za(t,e,n,r){return t=Et(22,t,r,e),t.elementType=_m,t.lanes=n,t.stateNode={isHidden:!1},t}function Kl(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function Xl(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uh(t,e,n,r,i,s,a,l,c){return t=new qE(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Et(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(s),t}function HE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cy(t){if(!t)return Mn;t=t._reactInternals;e:{if(vr(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(at(n))return cg(t,n,e)}return e}function hy(t,e,n,r,i,s,a,l,c){return t=uh(n,r,!0,t,i,s,a,l,c),t.context=cy(null),n=t.current,r=et(),i=kn(n),s=Yt(r,i),s.callback=e??null,Pn(n,s,i),t.current.lanes=i,Os(t,i,r),lt(t,r),t}function Ba(t,e,n,r){var i=e.current,s=et(),a=kn(i);return n=cy(n),e.context===null?e.context=n:e.pendingContext=n,e=Yt(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pn(i,e,a),t!==null&&(Ot(t,i,a,s),Do(t,i,a)),a}function da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ch(t,e){Hd(t,e),(t=t.alternate)&&Hd(t,e)}function WE(){return null}var fy=typeof reportError=="function"?reportError:function(t){console.error(t)};function hh(t){this._internalRoot=t}$a.prototype.render=hh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Ba(t,e,null,null)};$a.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Ba(null,t,null,null)}),e[nn]=null}};function $a(t){this._internalRoot=t}$a.prototype.unstable_scheduleHydration=function(t){if(t){var e=$m();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&Hm(t)}};function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wd(){}function QE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=da(a);s.call(f)}}var a=hy(e,r,t,0,null,!1,!1,"",Wd);return t._reactRootContainer=a,t[nn]=a.current,ms(t.nodeType===8?t.parentNode:t),fr(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=da(c);l.call(f)}}var c=uh(t,0,!1,null,null,!1,!1,"",Wd);return t._reactRootContainer=c,t[nn]=c.current,ms(t.nodeType===8?t.parentNode:t),fr(function(){Ba(e,c,n,r)}),c}function Ha(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=da(a);l.call(c)}}Ba(e,a,t,i)}else a=QE(n,e,t,i,r);return da(a)}zm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$i(e.pendingLanes);n!==0&&(Dc(e,n|1),lt(e,we()),!(Z&6)&&(ti=we()+500,Bn()))}break;case 13:fr(function(){var r=rn(t,1);if(r!==null){var i=et();Ot(r,t,1,i)}}),ch(t,1)}};Nc=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=et();Ot(e,t,134217728,n)}ch(t,134217728)}};Bm=function(t){if(t.tag===13){var e=kn(t),n=rn(t,e);if(n!==null){var r=et();Ot(n,t,e,r)}ch(t,e)}};$m=function(){return ne};qm=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Eu=function(t,e,n){switch(e){case"input":if(du(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ma(r);if(!i)throw Error(L(90));wm(r),du(r,i)}}}break;case"textarea":Sm(t,n);break;case"select":e=n.value,e!=null&&Ur(t,!!n.multiple,e,!1)}};xm=sh;Dm=fr;var GE={usingClientEntryPoint:!1,Events:[Ls,Vr,Ma,Rm,km,sh]},Fi={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KE={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Om(t),t===null?null:t.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||WE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Da=_o.inject(KE),Bt=_o}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GE;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fh(e))throw Error(L(200));return HE(t,e,null,n)};mt.createRoot=function(t,e){if(!fh(t))throw Error(L(299));var n=!1,r="",i=fy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uh(t,1,!1,null,null,n,!1,r,i),t[nn]=e.current,ms(t.nodeType===8?t.parentNode:t),new hh(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Om(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return fr(t)};mt.hydrate=function(t,e,n){if(!qa(e))throw Error(L(200));return Ha(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!fh(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=fy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=hy(e,null,t,1,n??null,i,!1,s,a),t[nn]=e.current,ms(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $a(e)};mt.render=function(t,e,n){if(!qa(e))throw Error(L(200));return Ha(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!qa(t))throw Error(L(40));return t._reactRootContainer?(fr(function(){Ha(null,null,t,!1,function(){t._reactRootContainer=null,t[nn]=null})}),!0):!1};mt.unstable_batchedUpdates=sh;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qa(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Ha(t,e,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dy)}catch(t){console.error(t)}}dy(),dm.exports=mt;var XE=dm.exports,Qd=XE;ou.createRoot=Qd.createRoot,ou.hydrateRoot=Qd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(this,arguments)}var Tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tn||(Tn={}));const Gd="popstate";function YE(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return Zu("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:my(i)}return ZE(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function py(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JE(){return Math.random().toString(36).substr(2,8)}function Kd(t,e){return{usr:t.state,key:t.key,idx:e}}function Zu(t,e,n,r){return n===void 0&&(n=null),Is({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ci(e):e,{state:n,key:e&&e.key||r||JE()})}function my(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Tn.Pop,c=null,f=m();f==null&&(f=0,a.replaceState(Is({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function d(){l=Tn.Pop;let O=m(),T=O==null?null:O-f;f=O,c&&c({action:l,location:D.location,delta:T})}function y(O,T){l=Tn.Push;let v=Zu(D.location,O,T);f=m()+1;let A=Kd(v,f),N=D.createHref(v);try{a.pushState(A,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(N)}s&&c&&c({action:l,location:D.location,delta:1})}function R(O,T){l=Tn.Replace;let v=Zu(D.location,O,T);f=m();let A=Kd(v,f),N=D.createHref(v);a.replaceState(A,"",N),s&&c&&c({action:l,location:D.location,delta:0})}function k(O){let T=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof O=="string"?O:my(O);return v=v.replace(/ $/,"%20"),Re(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let D={get action(){return l},get location(){return t(i,a)},listen(O){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Gd,d),c=O,()=>{i.removeEventListener(Gd,d),c=null}},createHref(O){return e(i,O)},createURL:k,encodeLocation(O){let T=k(O);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:R,go(O){return a.go(O)}};return D}var Xd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xd||(Xd={}));function e1(t,e,n){return n===void 0&&(n="/"),t1(t,e,n)}function t1(t,e,n,r){let i=typeof e=="string"?ci(e):e,s=vy(i.pathname||"/",n);if(s==null)return null;let a=gy(t);n1(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let f=p1(s);l=h1(a[c],f)}return l}function gy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=sr([r,c.relativePath]),m=n.concat(c);s.children&&s.children.length>0&&(Re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),gy(s.children,e,m,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:u1(f,s.index),routesMeta:m})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of yy(s.path))i(s,a,c)}),e}function yy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=yy(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function n1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r1=/^:[\w-]+$/,i1=3,s1=2,o1=1,a1=10,l1=-2,Yd=t=>t==="*";function u1(t,e){let n=t.split("/"),r=n.length;return n.some(Yd)&&(r+=l1),e&&(r+=s1),n.filter(i=>!Yd(i)).reduce((i,s)=>i+(r1.test(s)?i1:s===""?o1:a1),r)}function c1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function h1(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",d=f1({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},m),y=c.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:sr([s,d.pathname]),pathnameBase:E1(sr([s,d.pathnameBase])),route:y}),d.pathnameBase!=="/"&&(s=sr([s,d.pathnameBase]))}return a}function f1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=d1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,m,d)=>{let{paramName:y,isOptional:R}=m;if(y==="*"){let D=l[d]||"";a=s.slice(0,s.length-D.length).replace(/(.)\/+$/,"$1")}const k=l[d];return R&&!k?f[y]=void 0:f[y]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function d1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),py(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return py(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ci(t):t;return{pathname:n?n.startsWith("/")?n:g1(n,e):e,search:w1(r),hash:T1(i)}}function g1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v1(t,e){let n=y1(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ci(t):(i=Is({},t),Re(!i.pathname||!i.pathname.includes("?"),Yl("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),Yl("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),Yl("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),d-=1;i.pathname=y.join("/")}l=d>=0?e[d]:"/"}let c=m1(i,l),f=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||m)&&(c.pathname+="/"),c}const sr=t=>t.join("/").replace(/\/\/+/g,"/"),E1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _y=["post","put","patch","delete"];new Set(_y);const I1=["get",..._y];new Set(I1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(this,arguments)}const dh=B.createContext(null),A1=B.createContext(null),Wa=B.createContext(null),Qa=B.createContext(null),_r=B.createContext({outlet:null,matches:[],isDataRoute:!1}),Ey=B.createContext(null);function Ga(){return B.useContext(Qa)!=null}function wy(){return Ga()||Re(!1),B.useContext(Qa).location}function Ty(t){B.useContext(Wa).static||B.useLayoutEffect(t)}function Sy(){let{isDataRoute:t}=B.useContext(_r);return t?F1():C1()}function C1(){Ga()||Re(!1);let t=B.useContext(dh),{basename:e,future:n,navigator:r}=B.useContext(Wa),{matches:i}=B.useContext(_r),{pathname:s}=wy(),a=JSON.stringify(v1(i,n.v7_relativeSplatPath)),l=B.useRef(!1);return Ty(()=>{l.current=!0}),B.useCallback(function(f,m){if(m===void 0&&(m={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let d=_1(f,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:sr([e,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[e,r,a,s,t])}function P1(){let{matches:t}=B.useContext(_r),e=t[t.length-1];return e?e.params:{}}function R1(t,e){return k1(t,e)}function k1(t,e,n,r){Ga()||Re(!1);let{navigator:i,static:s}=B.useContext(Wa),{matches:a}=B.useContext(_r),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=wy(),d;if(e){var y;let T=typeof e=="string"?ci(e):e;f==="/"||(y=T.pathname)!=null&&y.startsWith(f)||Re(!1),d=T}else d=m;let R=d.pathname||"/",k=R;if(f!=="/"){let T=f.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(T.length).join("/")}let D=e1(t,{pathname:k}),O=O1(D&&D.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:sr([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:sr([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,n,r);return e&&O?B.createElement(Qa.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Tn.Pop}},O):O}function x1(){let t=b1(),e=S1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const D1=B.createElement(x1,null);class N1 extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(_r.Provider,{value:this.props.routeContext},B.createElement(Ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V1(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(dh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(_r.Provider,{value:e},r)}function O1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let m=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);m>=0||Re(!1),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let d=a[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=m),d.route.id){let{loaderData:y,errors:R}=n,k=d.route.loader&&y[d.route.id]===void 0&&(!R||R[d.route.id]===void 0);if(d.route.lazy||k){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,d,y)=>{let R,k=!1,D=null,O=null;n&&(R=l&&d.route.id?l[d.route.id]:void 0,D=d.route.errorElement||D1,c&&(f<0&&y===0?(U1("route-fallback"),k=!0,O=null):f===y&&(k=!0,O=d.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,y+1)),v=()=>{let A;return R?A=D:k?A=O:d.route.Component?A=B.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=m,B.createElement(V1,{match:d,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?B.createElement(N1,{location:n.location,revalidation:n.revalidation,component:D,error:R,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var Iy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Iy||{}),Ay=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ay||{});function M1(t){let e=B.useContext(dh);return e||Re(!1),e}function L1(t){let e=B.useContext(A1);return e||Re(!1),e}function j1(t){let e=B.useContext(_r);return e||Re(!1),e}function Cy(t){let e=j1(),n=e.matches[e.matches.length-1];return n.route.id||Re(!1),n.route.id}function b1(){var t;let e=B.useContext(Ey),n=L1(),r=Cy();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function F1(){let{router:t}=M1(Iy.UseNavigateStable),e=Cy(Ay.UseNavigateStable),n=B.useRef(!1);return Ty(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,As({fromRouteId:e},s)))},[t,e])}const Jd={};function U1(t,e,n){Jd[t]||(Jd[t]=!0)}function z1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ec(t){Re(!1)}function B1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Tn.Pop,navigator:s,static:a=!1,future:l}=t;Ga()&&Re(!1);let c=e.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:c,navigator:s,static:a,future:As({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=ci(r));let{pathname:m="/",search:d="",hash:y="",state:R=null,key:k="default"}=r,D=B.useMemo(()=>{let O=vy(m,c);return O==null?null:{location:{pathname:O,search:d,hash:y,state:R,key:k},navigationType:i}},[c,m,d,y,R,k,i]);return D==null?null:B.createElement(Wa.Provider,{value:f},B.createElement(Qa.Provider,{children:n,value:D}))}function $1(t){let{children:e,location:n}=t;return R1(tc(e),n)}new Promise(()=>{});function tc(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){n.push.apply(n,tc(r.props.children,s));return}r.type!==ec&&Re(!1),!r.props.index||!r.props.children||Re(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=tc(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const q1="6";try{window.__reactRouterVersion=q1}catch{}const H1="startTransition",Zd=F_[H1];function W1(t){let{basename:e,children:n,future:r,window:i}=t,s=B.useRef();s.current==null&&(s.current=YE({window:i,v5Compat:!0}));let a=s.current,[l,c]=B.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=B.useCallback(d=>{f&&Zd?Zd(()=>c(d)):c(d)},[c,f]);return B.useLayoutEffect(()=>a.listen(m),[a,m]),B.useEffect(()=>z1(r),[r]),B.createElement(B1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var ep;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ep||(ep={}));var tp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tp||(tp={}));const np=({children:t})=>te.jsx("div",{className:"layout",children:te.jsx("div",{className:"layout__children",children:t})}),bo=[{id:1,name:"No se como empezar",date:"2025-10-27",background:"empty-room.webp",lstDialog:[{desc:"Realmente no se por qu estoy haciendo esto, ni siquiera s si lo vers, supongo es una manera de desahogarme...",img:"jor.webp"},{desc:"Por ms que le hablo con mis amigos, mi familia, del como me siento... no es suficiente.",img:"jor.webp"},{desc:"Creo que la nica manera de sanar es sabiendo que estoy escribiendo estos mensaje a ti, aunque no llegues a verlos.",img:"jor.webp"},{desc:"...",img:"jor.webp"},{desc:"Tampoco s exactamente que quiero lograr con esto, simplemente quiero decirte cosas que nunca te dije, me est sirviendo hacerlo.",img:"jor.webp"}]},{id:8,date:"2025-10-28",name:"No estaba listo",background:"se-lleva-nios.webp",lstDialog:[{desc:"Hoy te fuiste a los nios, te fuiste a casa de tu mam y te los llevaste...",img:"jor.webp"},{desc:"Yo no estaba listo para verlos por ltima vez.",img:"jor-triste.webp"},{desc:"Ese da me congel, casi no mov nada de cosas para mudarme, simplemente no poda aceptar lo que estaba pasando.",img:"jor-triste.webp"}]},{id:10,name:"Ordenando cuarto de mi mam",background:"bodega.webp",date:"2025-10-29",lstDialog:[{desc:"Hoy tengo mucho trabajo por hacer...",img:"jor.webp"},{desc:"Mi antiguo cuarto parece bodega, est lleno de un montn de cosas",img:"jor.webp"},{desc:'Solo se que me siento devastado, estoy en "modo automtico" moviendo y tirando cosas, de vez en cuando salgo al balcn a fumar, no puedo evitar llorar',img:"jor-decep.webp"},{desc:'Termin muy tarde, solo quiero regresar a "casa"',img:"jor-decep.webp"}]},{id:11,name:"Avance cuarto de mi mam",background:"bodega-2.webp",date:"2025-10-31",lstDialog:[{desc:"Muchos amigos me dijeron que me iban a ayudar a mudarme, pero a la mera hora no fue as, ninguno lleg, me sent solo.",img:"jor.webp"},{desc:"Por lo menos he avanzado bastante, todos estos das no he querido dormir en cada de mi mam, ah no es mi hogar...",img:"jor.webp"},{desc:"Mi hogar est en bretaa",img:"jor-decep.webp"},{desc:"No paro de llorar",img:"jor-triste.webp"}]},{id:12,name:"Halloween",background:"halloween.webp",date:"2025-10-31 (2)",lstDialog:[{desc:"Me siento bastante mal, mis amigos me dicen que tengo que distraerme, despejarme. Se supone que la mudanza iba a llegar hoy, pero cancelaron...",img:"jor.webp"},{desc:"Decid si ir al halloween de Risky, estuve ah por un rato, pero me fui temprano.",img:"jor.webp"},{desc:"Me la pas imaginndote al lado mo hasta que no pude ms y me fui.",img:"jor-triste.webp"},{desc:'Regres a bretaa con un vaco enorme, te imaginaba junto a mi en el coche, imagin como tocaba tu pierna mientras menajeba y te deca "ahorita que llegemos te hago masajito"',img:"jor-triste.webp"},{desc:"Fue una noche muy difcil.",img:"jor-decep.webp"},{desc:"Al da siguiente igual fui al halloween de la casa de Lalo, fue exactamente lo mismo, solo que esta vez regres an ms temprano, aguant menos...",img:"jor-decep.webp"}]},{id:13,name:"Mudanza",background:"mudanza.webp",date:"2025-11-01",lstDialog:[{desc:"Hoy por fin lleg el da, el da de la mudanza, sal a caminar un rato, no estaba listo para esto.",img:"jor.webp"},{desc:"Se empezaron a llevar los muebles, todo pas muy rpido, todava no siento esa seguridad de saber lo que estoy haciendo, me siento muy triste.",img:"jor.webp"},{desc:'En menos de 1 hora terminaron, ya estbamos en camino a tripoli, subieron los muebles y ya estaba "hecho".',img:"jor-decep.webp"},{desc:"Ese da no me qued en la casa de mi mam, no estaba listo.",img:"jor.webp"},{desc:'Intencionalmente dej algunas cosas en bretaa para tener un pretexto y regresar... regresar a mi "hogar"',img:"jor.webp"},{desc:"Regres ms triste que nunca, estuve en la sala casi toda la noche, nunca haba fumado tanto.",img:"jor-triste.webp"}]},{id:15,name:"Videollamada",background:"sala.webp",date:"2025-11-02",lstDialog:[{desc:"Hoy me despert y de nuevo no te vi a mi lado... un vaco enorme llego a mi al desperat. Saba que tena que terminar de mover todo, meto mis cosas restantes en cajas y bolsas, creo que esta vez me cost mucho ms trabajo que nunca, siento que hago todo muy lento. Porque en verdad no quiero hacerlo.",img:"jor.webp"},{desc:"Termino en la noche y se que es hora de llamarte para ver las cosas pendientes que tenamos, ya sabes los botes de basura, cesto de ropa... me doy cuenta de que me mandaste un mensaje",img:"jor.webp"},{desc:'-"Hola! Oye, no es presin, pero cmo vas con tus cosas", Me armo de valor y te marco.',img:"jor.webp"},{desc:"Hacer la videollamada, fue algo muy difcil para mi, pero quera verte.",img:"jor.webp"},{desc:"Me hablaste muy fra, como si yo fuera cualquier persona, eso me doli mucho. Para mi nunca haz sido cualquier persona y tu actuabas como si yo si lo fuera.",img:"jor-decep.webp"},{desc:"Queras cambiar algunas cosas que no te parecieron, ced en quedarme las cosas que no queras, con excepcin de la lavadora, ya me haba mudado, ya era tarde para hacer eso...",img:"jor-decep.webp"},{desc:"Te ped un favor especial, poder seguir viendo a los nios... Que para mi son una parte muy importante de mi vida, me dijiste que no te sentas cmoda, que lo ibas a pensar.",img:"jor-triste.webp"},{desc:"En toda la llamada tena unas ganas inmensas de llorar, no pude controlarlo, llor, mientras vea como t estabas firme, ya no te afectaba, te despediste de una forma tan indiferente...",img:"jor-triste.webp"},{desc:'Me enviaste un mensaje despus, queras que dejara todos los juegos de llaves sobre la barra, llegan a mi mente varios pensamientos "solo as?", "en verdad cree que voy a entrar?". ',img:"jor.webp"},{desc:"No pude dormir bien, me costaba trabajo entender que sera la ltima noche que dormira ah.",img:"jor.webp"}]},{id:17,name:"ltima maana",background:"sala.webp",date:"2025-11-03",lstDialog:[{desc:"Hoy me despierto muy triste, era la ltima maana despertando en mi hogar. pensando en todo, todos estos das pude haberme dormido en casa de mi mam, pero no, quera estar aqu.",img:"jor-triste.webp"},{desc:"Mi pap est insistente en que ya corte el internet y me lleve la pantalla, pero no me importa, yo qued en algo contigo.",img:"jor.webp"},{desc:"Te aviso que ya termin con todo y que ya dejar el departamento, me voy a tripoli.",img:"jor.webp"},{desc:"Guardando varias cosas me doy cuenta de que sin querer me llev cosas que no eran mas, me duele y me emociona un poco saber que tengo que regresar a dejarlas.",img:"jor.webp"},{desc:"Me dices que las llaves eran para danny.",img:"jor.webp"},{desc:"Yo se que no puedo dejarte as como as las llaves, vaya, son importantes y estoy en un contrato, pero decido confiar en ti, te las voy a ir a dejar al departamento",img:"jor-decep.webp"}]},{id:16,name:"Ir a dejar las llaves",date:"2025-11-05",lstDialog:[{desc:"Hoy le marco a Martha, me dice que ya no quiere rentar el departamento, me enojo mucho con ella, eso no habamos quedado, me preocupo mucho por ti, porque todava no sabas si te ibas a quedar ah o no, te tengo que avisar en seguida, te quiero marcar, pero me dices que ests ocupada, solo te lo digo por mensaje.",img:"jor.webp"},{desc:"Hoy ir a dejarte unas cosas al departamento, te escribo para avisarte y me entero que ya regresaste al departamento.",img:"jor.webp"},{desc:"De cierta forma, me emociono, algo en mi se prende por verte otra vez a ti a los nios, estoy emocionado.",img:"jor.webp"},{desc:"De camino me doy cuenta de que los nios no estarn contigo, me decepciono un poco, vaya, te irs a la boda de vania, es obvio que ahorita no estarn ah... pero todava te ver sigo emocionado",img:"jor.webp"},{desc:"Cuando llego me invitas a pasar, tena miedo que solo me recibieras las cosas en la puerta y me fuera.",img:"jor.webp"},{desc:"Firmas el papel de total play y me entregas unas cosas que me falt llevarme, continuas estando muy indiferente, eso me duele mucho, pero me esfuerzo para que no me afecte en ese momento.",img:"jor.webp"},{desc:'Escucho el ruido de una puerta, lo primero que pienso es "ser Danny?", pero luego empiezo a pensar... "Que tal que no? que tal que es alguien ms?" mi mente empieza a pensar muchsimas cosas mientras intento estar estable',img:"jor-triste.webp"},{desc:"Me dices que tienes que hablar conmigo, quieres cambiar de nuevo el acuerdo de bienes, me dices que lo que quedamos no te funciona y lo quieres cambiar de nuevo y que tena 3 opciones, evaluar todo de nuevo de nuevo con depreciacin, que no me pagues la pantalla o que tu te quedes con el coche y yo con todo lo dems, ",img:"jor-decep.webp"},{desc:"Estoy desconcertado, porque me ests diciendo todo esto?",img:"jor.webp"},{desc:"Me entero que fue por lo que dijo Martha, me entero de que me mentiste y que siempre sabas que te ibas a quedar ah. No lo puedo creer, hasta este punto continuaste mintindome, me doy cuenta de que solo te he estado idealizando y queriendo creer en lo que me decas.",img:"jor-triste.webp"},{desc:"Pero no... solo es lo mismo. Yo que solo fui a dejarte tus cosas y a hacerte el favor de dejarle las llaves a danny y tu haciendo esto. No se vale, ya no lo puedo soportar",img:"jor.webp"},{desc:"Regreso a mi casa y empiezo a hacer el balance de las cosas con la depreciacin, lo hago muy cuidadosamente, busco y me ayudo con la depreciacin de cada elemento en especfico, electrodomsticos, muebles, todo...",img:"jor-decep.webp"},{desc:"Al final me doy cuenta de que con este balance habra menos dinero a tu favor, debas ms... te digo que hagas tu balance y yo que yo har el mo.",img:"jor-decep.webp"},{desc:"Estoy llorando, como es posible que todava despus de todo lo que ha pasado y que hagas esto, no lo puedo soportar ms y te escribo que no quiero verte ms.",img:"jor-triste.webp"},{desc:"No puedo dormir.",img:"jor-triste.webp"}]},{id:9,name:"Sueo ordenar tienda",date:"2025-11-07",background:"sueo-navidad.webp",lstDialog:[{desc:"Hoy volv a soar contigo (He estado soando contigo todos los das). En el sueo unas personas me ofrecieron un trabajo para ordenar las cosas de una tienda, no me iban a pagar, pero me ofrecieron que si encontraba algo de navidad, me lo poda llevar.",img:"jor.webp"},{desc:"Llegabas t a ayudarme, y cuando empezaba a recoger cosas, me di cuenta de que los dueos se estaban riendo de mi, me doy cuenta de que las cosas de navidad, realmente son basura.",img:"jor.webp"},{desc:"Son fragmentos de cosas inservisbles que ellos dejaron apropsito para que yo viera que al menos si haba algo.",img:"jor.webp"},{desc:"Te miraba y tu solo te estabas riendo.",img:"jor.webp"},{desc:"Ese da despert y ese sueo no sala de mi cabeza...",img:"jor.webp"},{desc:'Estuve buscando el que significaba eso, lo que encontr realmente no me gust y no se si sea acertado o no, pero encontr que "El trabajo representa esfuerzo, dedicacin o compromiso: algo en lo que pones energa emocional."',img:"jor.webp"},{desc:"Que la paga sean cosas de Navidad simboliza recompensas emocionales, ilusin o esperanza (la Navidad suele asociarse con nostalgia, reconciliacin, y afecto).",img:"jor.webp"},{desc:"Pero te das cuenta de que te estn dando cosas inservibles, o sea: recompensas falsas, promesas vacas o ilusiones rotas.",img:"jor.webp"}]},{id:3,name:"Cero contacto",date:"2025-11-10",lstDialog:[{desc:"He estado viendo tus estados",img:"jor.webp"},{desc:"Todos este tiempo ha sido un infierno para mi.",img:"jor-decep.webp"},{desc:'Ver como subes estados donde dices que "yo no me convert en el hombre necesario para crecer", "que no estaba a tu altura" me doli como no te puedes imaginar, prcticamente me echabas la culpa de irme. Y no en lo que en realidad pas.',img:"jor-decep.webp"},{desc:"Me duele el hecho de que quieras atribuir todo a un mal entendido y no tomes responsabilidad de las cosas",img:"jor.webp"},{desc:'En la boda de Vania cuando subiste estados de "y yo siendo la dama ms feliz", cuando yo me estaba cayendo a pedazos... siento que no val nada para ti, que no import',img:"jor-decep.webp"},{desc:"No lo pude soportar, de cierta manera saba que estabas subiendo esas descripciones con cierta doble intencin, para lastimarme... sabes? lo lograste. con mucho dolor procedo a bloquearte de instagram y fb",img:"jor-decep.webp"}]},{id:5,name:"Los nios",date:"2025-11-10 (2)",background:"no-ver-a-los-nios.webp",lstDialog:[{desc:"Es curioso como 2 perritos pueden ser algo tan importante en mi vida, vaya ustedes eran mi familia",img:"jor.webp"},{desc:"Y ahora la perd.",img:"jor.webp"},{desc:"Nuestra puequea familia se rompi",img:"jor.webp"},{desc:"Lo que te deca de dejarmelos ver era en serio... ellos estn en mi corazn y nada ni nadie los puede reemplazar.",img:"jor.webp"},{desc:"Me dijiste que lo ibas a pensar...",img:"jor.webp"},{desc:"Hoy subiste un estado en whatsapp (me falt bloquearte de ah) diciendo que jams los volvera a abrazar... ah supe que tu respuesta fue no.",img:"jor-decep.webp"},{desc:"Eso me rompi por dentro.",img:"jor.webp"}]},{id:4,date:"2025-11-11",name:"Cambiar de pantalla",lstDialog:[{desc:"Sabes? estuve pensando mucho en lo que me decas de que cambiaba mucho la pantalla de mi computadora cuando llegabas.",img:"jor.webp"},{desc:"Algo que nunca te he dicho es que me da mucha pena que me veas en horas de trabajo sin trabajar, hay das en que literal casi no hago nada, por terminar algo rpido",img:"jor.webp"},{desc:'El hecho de que me dijeras "cuanto trabaja ese muchacho" o cosas as, me daban mucha pena, pero me refiero a que me senta "intil".',img:"jor.webp"},{desc:"Ahora me doy cuenta de que si, si no estoy haciendo nada y estoy en facebook, whats o instagram, cambiaba la pantalla para hacer como que trabajo",img:"jor.webp"},{desc:"Pero era solo eso, no te quera ocultar nada y se que tal vez no me vas a creer, pero es cierto.",img:"jor.webp"},{desc:"Solo quera que lo supieras",img:"jor.webp"}]},{id:18,name:"Alguien ms",date:"2025-11-12",lstDialog:[{desc:"Hoy me enter que metiste a alguien al departamento.",img:"jor-decep.webp"},{desc:"No puedo dejar de imaginar que pas ese da, mi mente se llena de imagenes horribles de ti con alguien ms, imaginar que ests en lo que era nuestro hogar con otra persona.",img:"jor-decep.webp"},{desc:"Me siento destrozado.",img:"jor-triste.webp"},{desc:'Me viene a la mente un recuerdo de nosotros hablando sobre que si algn da nos llegramos a separar, que bamos a respetar el "nido" que era solo nuestro, algo de los 2 y de nadie ms',img:"jor-triste.webp"},{desc:"Tengo que ser fuerte y aceptar la realidad.",img:"jor.webp"}]},{id:2,date:"2025-11-13",name:"Construyendo la pgina de Chucho",lstDialog:[{desc:"Hoy me siento un poco mejor, me pongo a pensar en muchas cosas Recuerdas cuando estaba trabajando en la pgina de la boda de chucho?",img:"jor.webp"},{desc:"Llegaste a mi cuarto y te sentaste detrs de mi...",img:"jor.webp"},{desc:"Te quedaste viendo a la pantalla por un momento y escuchaste la cancin de la invitacin (Grecia Vallejo - Te voy a amar)",img:"jor.webp",audio:"audio-boda-chucho.mp3"},{desc:"Derrepente comenzaste a llorar...",img:"jor.webp"},{desc:"No supe que estaba pasando y te pregunt que que te pasaba, pero no me quisiste decir...",img:"jor.webp"},{desc:"Intent preguntarte una vez ms en la sala, decidiste no compartirme que tenas.",img:"jor.webp"},{desc:"Todava me pregunto, Qu tenas ese da? supongo nunca lo sabr",img:"jor.webp"}]},{id:7,name:"Viajar solo?",date:"2025-11-14",lstDialog:[{desc:"Pensar en mi viaje a estados unidos me pone muy triste, no solo el hecho de que yo quera ir contigo",img:"jor.webp"},{desc:"Si no, que organic todo para regresar el 22 de diciembre, y pasar el 23 contigo, en mi cumpleaos. Quera estar contigo y con los nios en este da.",img:"jor.webp"},{desc:"Cada que pienso en eso empiezo una tristeza inmensa se apodera de mi.",img:"jor.webp"},{desc:"Estoy platicando con unos amigos de la universidad, tal vez ya no vaya solo, eso me reconforta un poco.",img:"jor.webp"}]},{id:19,name:"Cumpleaos de mi pap",date:"2025-11-15",background:"cumple-papa.webp",lstDialog:[{desc:"Hoy me hiciste mucha falta.",img:"jor.webp"},{desc:"Estar en el cumpleaos de mi pap y Blanca, que estuvieramos comiendo y jugando, pero sin ti?",img:"jor.webp"},{desc:"No me senta completo.",img:"jor-triste.webp"}]},{id:14,name:"Nuevo da",date:"2025-11-16",lstDialog:[{desc:"Hoy no so contigo",img:"jor.webp"},{desc:"Estoy subiendo todas estos escritos, sin saber si los vers o no, pero creo que me est ayudando, me siento un poco mejor",img:"jor.webp"}]}],Q1=({callbackClose:t})=>{const[e,n]=B.useState(""),r=i=>{console.log(i),i.toLowerCase()=="akithor"&&(sessionStorage.setItem("access",!0),t()),n(i)};return te.jsxs("div",{className:"login__container",children:[te.jsx("div",{children:"Nuestra contrasea"}),te.jsx("input",{type:"password",onChange:i=>r(i.target.value)})]})},G1=()=>{const[t,e]=B.useState(!1),n=Sy(),r=s=>{n(`/story/${s.id}`)},i=bo.filter(s=>s.name).toSorted((s,a)=>s.date>a.date?1:-1);return B.useEffect(()=>{const s=sessionStorage.getItem("access");console.log(s),s&&e(!0)},[]),te.jsx("div",{className:"home-page__container",children:t?i.map((s,a)=>te.jsxs("div",{className:"home-page__story-container",onClick:()=>r(s),children:[te.jsx("div",{children:s.date}),te.jsxs("div",{children:["#",a+1,". ",s.name]})]},s.name+a)):te.jsx(Q1,{callbackClose:()=>e(!0)})})},K1=()=>{const[t,e]=B.useState(),[n,r]=B.useState(0);return{story:t,setStory:e,nextDialog:()=>{let s=n+1;return s>t.lstDialog.length&&(s=-1),console.log(s),r(s),s==-1},currentDialog:t?t.lstDialog[n]:null}},X1=({dialog:t,nextDialog:e})=>(console.log(t),te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"dialog-box__container",onClick:()=>e(),children:te.jsx("span",{children:t==null?void 0:t.desc})}),te.jsx("img",{className:"dialog-box__speaker",src:`.././img/characters/${t==null?void 0:t.img}`})]})),Y1=()=>{};var rp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,m=s>>2,d=(s&3)<<4|l>>4;let y=(l&15)<<2|f>>6,R=f&63;c||(R=64,a||(y=64)),r.push(n[m],n[d],n[y],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Py(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||d==null)throw new Z1;const y=s<<2|l>>4;if(r.push(y),f!==64){const R=l<<4&240|f>>2;if(r.push(R),d!==64){const k=f<<6&192|d;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ew=function(t){const e=Py(t);return Ry.encodeByteArray(e,!0)},pa=function(t){return ew(t).replace(/\./g,"")},tw=function(t){try{return Ry.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=()=>nw().__FIREBASE_DEFAULTS__,iw=()=>{if(typeof process>"u"||typeof rp>"u")return;const t=rp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tw(t[1]);return e&&JSON.parse(e)},ph=()=>{try{return Y1()||rw()||iw()||sw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ow=t=>{var e,n;return(n=(e=ph())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},aw=t=>{const e=ow(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ky=()=>{var t;return(t=ph())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[pa(JSON.stringify(n)),pa(JSON.stringify(a)),""].join(".")}const ts={};function hw(){const t={prod:[],emulator:[]};for(const e of Object.keys(ts))ts[e]?t.emulator.push(e):t.prod.push(e);return t}function fw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ip=!1;function dw(t,e){if(typeof window>"u"||typeof document>"u"||!mh(window.location.host)||ts[t]===e||ts[t]||ip)return;ts[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=hw().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,R){y.setAttribute("width","24"),y.setAttribute("id",R),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{ip=!0,a()},y}function m(y,R){y.setAttribute("id",R),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function d(){const y=fw(r),R=n("text"),k=document.getElementById(R)||document.createElement("span"),D=n("learnmore"),O=document.getElementById(D)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const A=y.element;l(A),m(O,D);const N=f();c(v,T),A.append(v,k,O,N),document.body.appendChild(A)}s?(k.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mw(){var e;const t=(e=ph())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gw(){return!mw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yw(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_w,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xy.prototype.create)}}class xy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Ew(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new hi(i,l,r)}}function Ew(t,e){return t.replace(ww,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ww=/\{\$([^}]+)}/g;function ma(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(sp(s)&&sp(a)){if(!ma(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){return t&&t._delegate?t._delegate:t}class Ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Iw(e))try{this.getOrInitializeService({instanceIdentifier:Jn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jn){return this.instances.has(e)}getOptions(e=Jn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jn){return this.component?this.component.multipleInstances?e:Jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(t){return t===Jn?void 0:t}function Iw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const Cw={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Pw=J.INFO,Rw={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},kw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Rw[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=Pw,this._logHandler=kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const xw=(t,e)=>e.some(n=>t instanceof n);let op,ap;function Dw(){return op||(op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nw(){return ap||(ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ny=new WeakMap,nc=new WeakMap,Vy=new WeakMap,Jl=new WeakMap,gh=new WeakMap;function Vw(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Dn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Ny.set(n,t)}).catch(()=>{}),gh.set(e,t),e}function Ow(t){if(nc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});nc.set(t,e)}let rc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Mw(t){rc=t(rc)}function Lw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zl(this),e,...n);return Vy.set(r,e.sort?e.sort():[e]),Dn(r)}:Nw().includes(t)?function(...e){return t.apply(Zl(this),e),Dn(Ny.get(this))}:function(...e){return Dn(t.apply(Zl(this),e))}}function jw(t){return typeof t=="function"?Lw(t):(t instanceof IDBTransaction&&Ow(t),xw(t,Dw())?new Proxy(t,rc):t)}function Dn(t){if(t instanceof IDBRequest)return Vw(t);if(Jl.has(t))return Jl.get(t);const e=jw(t);return e!==t&&(Jl.set(t,e),gh.set(e,t)),e}const Zl=t=>gh.get(t);function bw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Dn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Dn(a.result),c.oldVersion,c.newVersion,Dn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Fw=["get","getKey","getAll","getAllKeys","count"],Uw=["put","add","delete","clear"],eu=new Map;function lp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eu.get(e))return eu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Uw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fw.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return eu.set(e,s),s}Mw(t=>({...t,get:(e,n,r)=>lp(e,n)||t.get(e,n,r),has:(e,n)=>!!lp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Bw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ic="@firebase/app",up="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Dy("@firebase/app"),$w="@firebase/app-compat",qw="@firebase/analytics-compat",Hw="@firebase/analytics",Ww="@firebase/app-check-compat",Qw="@firebase/app-check",Gw="@firebase/auth",Kw="@firebase/auth-compat",Xw="@firebase/database",Yw="@firebase/data-connect",Jw="@firebase/database-compat",Zw="@firebase/functions",eT="@firebase/functions-compat",tT="@firebase/installations",nT="@firebase/installations-compat",rT="@firebase/messaging",iT="@firebase/messaging-compat",sT="@firebase/performance",oT="@firebase/performance-compat",aT="@firebase/remote-config",lT="@firebase/remote-config-compat",uT="@firebase/storage",cT="@firebase/storage-compat",hT="@firebase/firestore",fT="@firebase/ai",dT="@firebase/firestore-compat",pT="firebase",mT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc="[DEFAULT]",gT={[ic]:"fire-core",[$w]:"fire-core-compat",[Hw]:"fire-analytics",[qw]:"fire-analytics-compat",[Qw]:"fire-app-check",[Ww]:"fire-app-check-compat",[Gw]:"fire-auth",[Kw]:"fire-auth-compat",[Xw]:"fire-rtdb",[Yw]:"fire-data-connect",[Jw]:"fire-rtdb-compat",[Zw]:"fire-fn",[eT]:"fire-fn-compat",[tT]:"fire-iid",[nT]:"fire-iid-compat",[rT]:"fire-fcm",[iT]:"fire-fcm-compat",[sT]:"fire-perf",[oT]:"fire-perf-compat",[aT]:"fire-rc",[lT]:"fire-rc-compat",[uT]:"fire-gcs",[cT]:"fire-gcs-compat",[hT]:"fire-fst",[dT]:"fire-fst-compat",[fT]:"fire-vertex","fire-js":"fire-js",[pT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Map,yT=new Map,oc=new Map;function cp(t,e){try{t.container.addComponent(e)}catch(n){on.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ya(t){const e=t.name;if(oc.has(e))return on.debug(`There were multiple attempts to register component ${e}.`),!1;oc.set(e,t);for(const n of ga.values())cp(n,t);for(const n of yT.values())cp(n,t);return!0}function vT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _T(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nn=new xy("app","Firebase",ET);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=mT;function Oy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:sc,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Nn.create("bad-app-name",{appName:String(i)});if(n||(n=ky()),!n)throw Nn.create("no-options");const s=ga.get(i);if(s){if(ma(n,s.options)&&ma(r,s.config))return s;throw Nn.create("duplicate-app",{appName:i})}const a=new Aw(i);for(const c of oc.values())a.addComponent(c);const l=new wT(n,r,a);return ga.set(i,l),l}function ST(t=sc){const e=ga.get(t);if(!e&&t===sc&&ky())return Oy();if(!e)throw Nn.create("no-app",{appName:t});return e}function Wr(t,e,n){let r=gT[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),on.warn(a.join(" "));return}ya(new Ps(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firebase-heartbeat-database",AT=1,Rs="firebase-heartbeat-store";let tu=null;function My(){return tu||(tu=bw(IT,AT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nn.create("idb-open",{originalErrorMessage:t.message})})),tu}async function CT(t){try{const n=(await My()).transaction(Rs),r=await n.objectStore(Rs).get(Ly(t));return await n.done,r}catch(e){if(e instanceof hi)on.warn(e.message);else{const n=Nn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});on.warn(n.message)}}}async function hp(t,e){try{const r=(await My()).transaction(Rs,"readwrite");await r.objectStore(Rs).put(e,Ly(t)),await r.done}catch(n){if(n instanceof hi)on.warn(n.message);else{const r=Nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});on.warn(r.message)}}}function Ly(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=1024,RT=30;class kT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>RT){const a=NT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){on.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fp(),{heartbeatsToSend:r,unsentEntries:i}=xT(this._heartbeatsCache.heartbeats),s=pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return on.warn(n),""}}}function fp(){return new Date().toISOString().substring(0,10)}function xT(t,e=PT){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),dp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yw()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dp(t){return pa(JSON.stringify({version:2,heartbeats:t})).length}function NT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){ya(new Ps("platform-logger",e=>new zw(e),"PRIVATE")),ya(new Ps("heartbeat",e=>new kT(e),"PRIVATE")),Wr(ic,up,t),Wr(ic,up,"esm2020"),Wr("fire-js","")}VT("");var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yh;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,g){function E(){}E.prototype=g.prototype,_.F=g.prototype,_.prototype=new E,_.prototype.constructor=_,_.D=function(S,I,C){for(var w=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)w[Oe-2]=arguments[Oe];return g.prototype[I].apply(S,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,g,E){E||(E=0);const S=Array(16);if(typeof g=="string")for(var I=0;I<16;++I)S[I]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(I=0;I<16;++I)S[I]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=_.g[0],E=_.g[1],I=_.g[2];let C=_.g[3],w;w=g+(C^E&(I^C))+S[0]+3614090360&4294967295,g=E+(w<<7&4294967295|w>>>25),w=C+(I^g&(E^I))+S[1]+3905402710&4294967295,C=g+(w<<12&4294967295|w>>>20),w=I+(E^C&(g^E))+S[2]+606105819&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(g^I&(C^g))+S[3]+3250441966&4294967295,E=I+(w<<22&4294967295|w>>>10),w=g+(C^E&(I^C))+S[4]+4118548399&4294967295,g=E+(w<<7&4294967295|w>>>25),w=C+(I^g&(E^I))+S[5]+1200080426&4294967295,C=g+(w<<12&4294967295|w>>>20),w=I+(E^C&(g^E))+S[6]+2821735955&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(g^I&(C^g))+S[7]+4249261313&4294967295,E=I+(w<<22&4294967295|w>>>10),w=g+(C^E&(I^C))+S[8]+1770035416&4294967295,g=E+(w<<7&4294967295|w>>>25),w=C+(I^g&(E^I))+S[9]+2336552879&4294967295,C=g+(w<<12&4294967295|w>>>20),w=I+(E^C&(g^E))+S[10]+4294925233&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(g^I&(C^g))+S[11]+2304563134&4294967295,E=I+(w<<22&4294967295|w>>>10),w=g+(C^E&(I^C))+S[12]+1804603682&4294967295,g=E+(w<<7&4294967295|w>>>25),w=C+(I^g&(E^I))+S[13]+4254626195&4294967295,C=g+(w<<12&4294967295|w>>>20),w=I+(E^C&(g^E))+S[14]+2792965006&4294967295,I=C+(w<<17&4294967295|w>>>15),w=E+(g^I&(C^g))+S[15]+1236535329&4294967295,E=I+(w<<22&4294967295|w>>>10),w=g+(I^C&(E^I))+S[1]+4129170786&4294967295,g=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(g^E))+S[6]+3225465664&4294967295,C=g+(w<<9&4294967295|w>>>23),w=I+(g^E&(C^g))+S[11]+643717713&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^g&(I^C))+S[0]+3921069994&4294967295,E=I+(w<<20&4294967295|w>>>12),w=g+(I^C&(E^I))+S[5]+3593408605&4294967295,g=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(g^E))+S[10]+38016083&4294967295,C=g+(w<<9&4294967295|w>>>23),w=I+(g^E&(C^g))+S[15]+3634488961&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^g&(I^C))+S[4]+3889429448&4294967295,E=I+(w<<20&4294967295|w>>>12),w=g+(I^C&(E^I))+S[9]+568446438&4294967295,g=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(g^E))+S[14]+3275163606&4294967295,C=g+(w<<9&4294967295|w>>>23),w=I+(g^E&(C^g))+S[3]+4107603335&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^g&(I^C))+S[8]+1163531501&4294967295,E=I+(w<<20&4294967295|w>>>12),w=g+(I^C&(E^I))+S[13]+2850285829&4294967295,g=E+(w<<5&4294967295|w>>>27),w=C+(E^I&(g^E))+S[2]+4243563512&4294967295,C=g+(w<<9&4294967295|w>>>23),w=I+(g^E&(C^g))+S[7]+1735328473&4294967295,I=C+(w<<14&4294967295|w>>>18),w=E+(C^g&(I^C))+S[12]+2368359562&4294967295,E=I+(w<<20&4294967295|w>>>12),w=g+(E^I^C)+S[5]+4294588738&4294967295,g=E+(w<<4&4294967295|w>>>28),w=C+(g^E^I)+S[8]+2272392833&4294967295,C=g+(w<<11&4294967295|w>>>21),w=I+(C^g^E)+S[11]+1839030562&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^g)+S[14]+4259657740&4294967295,E=I+(w<<23&4294967295|w>>>9),w=g+(E^I^C)+S[1]+2763975236&4294967295,g=E+(w<<4&4294967295|w>>>28),w=C+(g^E^I)+S[4]+1272893353&4294967295,C=g+(w<<11&4294967295|w>>>21),w=I+(C^g^E)+S[7]+4139469664&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^g)+S[10]+3200236656&4294967295,E=I+(w<<23&4294967295|w>>>9),w=g+(E^I^C)+S[13]+681279174&4294967295,g=E+(w<<4&4294967295|w>>>28),w=C+(g^E^I)+S[0]+3936430074&4294967295,C=g+(w<<11&4294967295|w>>>21),w=I+(C^g^E)+S[3]+3572445317&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^g)+S[6]+76029189&4294967295,E=I+(w<<23&4294967295|w>>>9),w=g+(E^I^C)+S[9]+3654602809&4294967295,g=E+(w<<4&4294967295|w>>>28),w=C+(g^E^I)+S[12]+3873151461&4294967295,C=g+(w<<11&4294967295|w>>>21),w=I+(C^g^E)+S[15]+530742520&4294967295,I=C+(w<<16&4294967295|w>>>16),w=E+(I^C^g)+S[2]+3299628645&4294967295,E=I+(w<<23&4294967295|w>>>9),w=g+(I^(E|~C))+S[0]+4096336452&4294967295,g=E+(w<<6&4294967295|w>>>26),w=C+(E^(g|~I))+S[7]+1126891415&4294967295,C=g+(w<<10&4294967295|w>>>22),w=I+(g^(C|~E))+S[14]+2878612391&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~g))+S[5]+4237533241&4294967295,E=I+(w<<21&4294967295|w>>>11),w=g+(I^(E|~C))+S[12]+1700485571&4294967295,g=E+(w<<6&4294967295|w>>>26),w=C+(E^(g|~I))+S[3]+2399980690&4294967295,C=g+(w<<10&4294967295|w>>>22),w=I+(g^(C|~E))+S[10]+4293915773&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~g))+S[1]+2240044497&4294967295,E=I+(w<<21&4294967295|w>>>11),w=g+(I^(E|~C))+S[8]+1873313359&4294967295,g=E+(w<<6&4294967295|w>>>26),w=C+(E^(g|~I))+S[15]+4264355552&4294967295,C=g+(w<<10&4294967295|w>>>22),w=I+(g^(C|~E))+S[6]+2734768916&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~g))+S[13]+1309151649&4294967295,E=I+(w<<21&4294967295|w>>>11),w=g+(I^(E|~C))+S[4]+4149444226&4294967295,g=E+(w<<6&4294967295|w>>>26),w=C+(E^(g|~I))+S[11]+3174756917&4294967295,C=g+(w<<10&4294967295|w>>>22),w=I+(g^(C|~E))+S[2]+718787259&4294967295,I=C+(w<<15&4294967295|w>>>17),w=E+(C^(I|~g))+S[9]+3951481745&4294967295,_.g[0]=_.g[0]+g&4294967295,_.g[1]=_.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+C&4294967295}r.prototype.v=function(_,g){g===void 0&&(g=_.length);const E=g-this.blockSize,S=this.C;let I=this.h,C=0;for(;C<g;){if(I==0)for(;C<=E;)i(this,_,C),C+=this.blockSize;if(typeof _=="string"){for(;C<g;)if(S[I++]=_.charCodeAt(C++),I==this.blockSize){i(this,S),I=0;break}}else for(;C<g;)if(S[I++]=_[C++],I==this.blockSize){i(this,S),I=0;break}}this.h=I,this.o+=g},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var g=1;g<_.length-8;++g)_[g]=0;g=this.o*8;for(var E=_.length-8;E<_.length;++E)_[E]=g&255,g/=256;for(this.v(_),_=Array(16),g=0,E=0;E<4;++E)for(let S=0;S<32;S+=8)_[g++]=this.g[E]>>>S&255;return _};function s(_,g){var E=l;return Object.prototype.hasOwnProperty.call(E,_)?E[_]:E[_]=g(_)}function a(_,g){this.h=g;const E=[];let S=!0;for(let I=_.length-1;I>=0;I--){const C=_[I]|0;S&&C==g||(E[I]=C,S=!1)}this.g=E}var l={};function c(_){return-128<=_&&_<128?s(_,function(g){return new a([g|0],g<0?-1:0)}):new a([_|0],_<0?-1:0)}function f(_){if(isNaN(_)||!isFinite(_))return d;if(_<0)return O(f(-_));const g=[];let E=1;for(let S=0;_>=E;S++)g[S]=_/E|0,E*=4294967296;return new a(g,0)}function m(_,g){if(_.length==0)throw Error("number format error: empty string");if(g=g||10,g<2||36<g)throw Error("radix out of range: "+g);if(_.charAt(0)=="-")return O(m(_.substring(1),g));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=f(Math.pow(g,8));let S=d;for(let C=0;C<_.length;C+=8){var I=Math.min(8,_.length-C);const w=parseInt(_.substring(C,C+I),g);I<8?(I=f(Math.pow(g,I)),S=S.j(I).add(f(w))):(S=S.j(E),S=S.add(f(w)))}return S}var d=c(0),y=c(1),R=c(16777216);t=a.prototype,t.m=function(){if(D(this))return-O(this).m();let _=0,g=1;for(let E=0;E<this.g.length;E++){const S=this.i(E);_+=(S>=0?S:4294967296+S)*g,g*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(k(this))return"0";if(D(this))return"-"+O(this).toString(_);const g=f(Math.pow(_,6));var E=this;let S="";for(;;){const I=N(E,g).g;E=T(E,I.j(g));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(_);if(E=I,k(E))return C+S;for(;C.length<6;)C="0"+C;S=C+S}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function k(_){if(_.h!=0)return!1;for(let g=0;g<_.g.length;g++)if(_.g[g]!=0)return!1;return!0}function D(_){return _.h==-1}t.l=function(_){return _=T(this,_),D(_)?-1:k(_)?0:1};function O(_){const g=_.g.length,E=[];for(let S=0;S<g;S++)E[S]=~_.g[S];return new a(E,~_.h).add(y)}t.abs=function(){return D(this)?O(this):this},t.add=function(_){const g=Math.max(this.g.length,_.g.length),E=[];let S=0;for(let I=0;I<=g;I++){let C=S+(this.i(I)&65535)+(_.i(I)&65535),w=(C>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);S=w>>>16,C&=65535,w&=65535,E[I]=w<<16|C}return new a(E,E[E.length-1]&-2147483648?-1:0)};function T(_,g){return _.add(O(g))}t.j=function(_){if(k(this)||k(_))return d;if(D(this))return D(_)?O(this).j(O(_)):O(O(this).j(_));if(D(_))return O(this.j(O(_)));if(this.l(R)<0&&_.l(R)<0)return f(this.m()*_.m());const g=this.g.length+_.g.length,E=[];for(var S=0;S<2*g;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(let I=0;I<_.g.length;I++){const C=this.i(S)>>>16,w=this.i(S)&65535,Oe=_.i(I)>>>16,Wt=_.i(I)&65535;E[2*S+2*I]+=w*Wt,v(E,2*S+2*I),E[2*S+2*I+1]+=C*Wt,v(E,2*S+2*I+1),E[2*S+2*I+1]+=w*Oe,v(E,2*S+2*I+1),E[2*S+2*I+2]+=C*Oe,v(E,2*S+2*I+2)}for(_=0;_<g;_++)E[_]=E[2*_+1]<<16|E[2*_];for(_=g;_<2*g;_++)E[_]=0;return new a(E,0)};function v(_,g){for(;(_[g]&65535)!=_[g];)_[g+1]+=_[g]>>>16,_[g]&=65535,g++}function A(_,g){this.g=_,this.h=g}function N(_,g){if(k(g))throw Error("division by zero");if(k(_))return new A(d,d);if(D(_))return g=N(O(_),g),new A(O(g.g),O(g.h));if(D(g))return g=N(_,O(g)),new A(O(g.g),g.h);if(_.g.length>30){if(D(_)||D(g))throw Error("slowDivide_ only works with positive integers.");for(var E=y,S=g;S.l(_)<=0;)E=b(E),S=b(S);var I=F(E,1),C=F(S,1);for(S=F(S,2),E=F(E,2);!k(S);){var w=C.add(S);w.l(_)<=0&&(I=I.add(E),C=w),S=F(S,1),E=F(E,1)}return g=T(_,I.j(g)),new A(I,g)}for(I=d;_.l(g)>=0;){for(E=Math.max(1,Math.floor(_.m()/g.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),C=f(E),w=C.j(g);D(w)||w.l(_)>0;)E-=S,C=f(E),w=C.j(g);k(C)&&(C=y),I=I.add(C),_=T(_,w)}return new A(I,_)}t.B=function(_){return N(this,_).h},t.and=function(_){const g=Math.max(this.g.length,_.g.length),E=[];for(let S=0;S<g;S++)E[S]=this.i(S)&_.i(S);return new a(E,this.h&_.h)},t.or=function(_){const g=Math.max(this.g.length,_.g.length),E=[];for(let S=0;S<g;S++)E[S]=this.i(S)|_.i(S);return new a(E,this.h|_.h)},t.xor=function(_){const g=Math.max(this.g.length,_.g.length),E=[];for(let S=0;S<g;S++)E[S]=this.i(S)^_.i(S);return new a(E,this.h^_.h)};function b(_){const g=_.g.length+1,E=[];for(let S=0;S<g;S++)E[S]=_.i(S)<<1|_.i(S-1)>>>31;return new a(E,_.h)}function F(_,g){const E=g>>5;g%=32;const S=_.g.length-E,I=[];for(let C=0;C<S;C++)I[C]=g>0?_.i(C+E)>>>g|_.i(C+E+1)<<32-g:_.i(C+E);return new a(I,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,yh=a}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jy,Hi,by,Fo,ac,Fy,Uy,zy;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eo=="object"&&Eo];for(var u=0;u<o.length;++u){var h=o[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(o,u){if(u)e:{var h=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var P=o[p];if(!(P in h))break e;h=h[P]}o=o[o.length-1],p=h[o],u=u(p),u!=p&&u!=null&&e(h,o,{configurable:!0,writable:!0,value:u})}}i("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(o){return o||function(u){var h=[],p;for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&h.push([p,u[p]]);return h}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function c(o,u,h){return o.call.apply(o.bind,arguments)}function f(o,u,h){return f=c,f.apply(null,arguments)}function m(o,u){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function d(o,u){function h(){}h.prototype=u.prototype,o.Z=u.prototype,o.prototype=new h,o.prototype.constructor=o,o.Ob=function(p,P,x){for(var j=Array(arguments.length-2),G=2;G<arguments.length;G++)j[G-2]=arguments[G];return u.prototype[P].apply(p,j)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function R(o){const u=o.length;if(u>0){const h=Array(u);for(let p=0;p<u;p++)h[p]=o[p];return h}return[]}function k(o,u){for(let p=1;p<arguments.length;p++){const P=arguments[p];var h=typeof P;if(h=h!="object"?h:P?Array.isArray(P)?"array":h:"null",h=="array"||h=="object"&&typeof P.length=="number"){h=o.length||0;const x=P.length||0;o.length=h+x;for(let j=0;j<x;j++)o[h+j]=P[j]}else o.push(P)}}class D{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return this.h>0?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function O(o){a.setTimeout(()=>{throw o},0)}function T(){var o=_;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class v{constructor(){this.h=this.g=null}add(u,h){const p=A.get();p.set(u,h),this.h?this.h.next=p:this.g=p,this.h=p}}var A=new D(()=>new N,o=>o.reset());class N{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let b,F=!1,_=new v,g=()=>{const o=Promise.resolve(void 0);b=()=>{o.then(E)}};function E(){for(var o;o=T();){try{o.h.call(o.g)}catch(h){O(h)}var u=A;u.j(o),u.h<100&&(u.h++,o.next=u.g,u.g=o)}F=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const h=()=>{};a.addEventListener("test",h,u),a.removeEventListener("test",h,u)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function Oe(o,u){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,u)}d(Oe,I),Oe.prototype.init=function(o,u){const h=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget,u||(h=="mouseover"?u=o.fromElement:h=="mouseout"&&(u=o.toElement)),this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),pi=0;function mi(o,u,h,p,P){this.listener=o,this.proxy=null,this.src=u,this.type=h,this.capture=!!p,this.ha=P,this.key=++pi,this.da=this.fa=!1}function U(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function H(o,u,h){for(const p in o)u.call(h,o[p],p,o)}function Q(o,u){for(const h in o)u.call(void 0,o[h],h,o)}function ue(o){const u={};for(const h in o)u[h]=o[h];return u}const Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $n(o,u){let h,p;for(let P=1;P<arguments.length;P++){p=arguments[P];for(h in p)o[h]=p[h];for(let x=0;x<Ee.length;x++)h=Ee[x],Object.prototype.hasOwnProperty.call(p,h)&&(o[h]=p[h])}}function yt(o){this.src=o,this.g={},this.h=0}yt.prototype.add=function(o,u,h,p,P){const x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);const j=It(o,u,p,P);return j>-1?(u=o[j],h||(u.fa=!1)):(u=new mi(u,this.src,x,!!p,P),u.fa=h,o.push(u)),u};function qn(o,u){const h=u.type;if(h in o.g){var p=o.g[h],P=Array.prototype.indexOf.call(p,u,void 0),x;(x=P>=0)&&Array.prototype.splice.call(p,P,1),x&&(U(u),o.g[h].length==0&&(delete o.g[h],o.h--))}}function It(o,u,h,p){for(let P=0;P<o.length;++P){const x=o[P];if(!x.da&&x.listener==u&&x.capture==!!h&&x.ha==p)return P}return-1}var ln="closure_lm_"+(Math.random()*1e6|0),il={};function Uh(o,u,h,p,P){if(Array.isArray(u)){for(let x=0;x<u.length;x++)Uh(o,u[x],h,p,P);return null}return h=$h(h),o&&o[Wt]?o.J(u,h,l(p)?!!p.capture:!1,P):Wv(o,u,h,!1,p,P)}function Wv(o,u,h,p,P,x){if(!u)throw Error("Invalid event type");const j=l(P)?!!P.capture:!!P;let G=ol(o);if(G||(o[ln]=G=new yt(o)),h=G.add(u,h,p,j,x),h.proxy)return h;if(p=Qv(),h.proxy=p,p.src=o,p.listener=h,o.addEventListener)C||(P=j),P===void 0&&(P=!1),o.addEventListener(u.toString(),p,P);else if(o.attachEvent)o.attachEvent(Bh(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Qv(){function o(h){return u.call(o.src,o.listener,h)}const u=Gv;return o}function zh(o,u,h,p,P){if(Array.isArray(u))for(var x=0;x<u.length;x++)zh(o,u[x],h,p,P);else p=l(p)?!!p.capture:!!p,h=$h(h),o&&o[Wt]?(o=o.i,x=String(u).toString(),x in o.g&&(u=o.g[x],h=It(u,h,p,P),h>-1&&(U(u[h]),Array.prototype.splice.call(u,h,1),u.length==0&&(delete o.g[x],o.h--)))):o&&(o=ol(o))&&(u=o.g[u.toString()],o=-1,u&&(o=It(u,h,p,P)),(h=o>-1?u[o]:null)&&sl(h))}function sl(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[Wt])qn(u.i,o);else{var h=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(h,p,o.capture):u.detachEvent?u.detachEvent(Bh(h),p):u.addListener&&u.removeListener&&u.removeListener(p),(h=ol(u))?(qn(h,o),h.h==0&&(h.src=null,u[ln]=null)):U(o)}}}function Bh(o){return o in il?il[o]:il[o]="on"+o}function Gv(o,u){if(o.da)o=!0;else{u=new Oe(u,this);const h=o.listener,p=o.ha||o.src;o.fa&&sl(o),o=h.call(p,u)}return o}function ol(o){return o=o[ln],o instanceof yt?o:null}var al="__closure_events_fn_"+(Math.random()*1e9>>>0);function $h(o){return typeof o=="function"?o:(o[al]||(o[al]=function(u){return o.handleEvent(u)}),o[al])}function Be(){S.call(this),this.i=new yt(this),this.M=this,this.G=null}d(Be,S),Be.prototype[Wt]=!0,Be.prototype.removeEventListener=function(o,u,h,p){zh(this,o,u,h,p)};function Ye(o,u){var h,p=o.G;if(p)for(h=[];p;p=p.G)h.push(p);if(o=o.M,p=u.type||u,typeof u=="string")u=new I(u,o);else if(u instanceof I)u.target=u.target||o;else{var P=u;u=new I(p,o),$n(u,P)}P=!0;let x,j;if(h)for(j=h.length-1;j>=0;j--)x=u.g=h[j],P=qs(x,p,!0,u)&&P;if(x=u.g=o,P=qs(x,p,!0,u)&&P,P=qs(x,p,!1,u)&&P,h)for(j=0;j<h.length;j++)x=u.g=h[j],P=qs(x,p,!1,u)&&P}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var o=this.i;for(const u in o.g){const h=o.g[u];for(let p=0;p<h.length;p++)U(h[p]);delete o.g[u],o.h--}}this.G=null},Be.prototype.J=function(o,u,h,p){return this.i.add(String(o),u,!1,h,p)},Be.prototype.K=function(o,u,h,p){return this.i.add(String(o),u,!0,h,p)};function qs(o,u,h,p){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();let P=!0;for(let x=0;x<u.length;++x){const j=u[x];if(j&&!j.da&&j.capture==h){const G=j.listener,Ae=j.ha||j.src;j.fa&&qn(o.i,j),P=G.call(Ae,p)!==!1&&P}}return P&&!p.defaultPrevented}function Kv(o,u){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=f(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(u)>2147483647?-1:a.setTimeout(o,u||0)}function qh(o){o.g=Kv(()=>{o.g=null,o.i&&(o.i=!1,qh(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class Xv extends S{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:qh(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(o){S.call(this),this.h=o,this.g={}}d(gi,S);var Hh=[];function Wh(o){H(o.g,function(u,h){this.g.hasOwnProperty(h)&&sl(u)},o),o.g={}}gi.prototype.N=function(){gi.Z.N.call(this),Wh(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ll=a.JSON.stringify,Yv=a.JSON.parse,Jv=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Qh(){}function Gh(){}var yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ul(){I.call(this,"d")}d(ul,I);function cl(){I.call(this,"c")}d(cl,I);var Hn={},Kh=null;function Hs(){return Kh=Kh||new Be}Hn.Ia="serverreachability";function Xh(o){I.call(this,Hn.Ia,o)}d(Xh,I);function vi(o){const u=Hs();Ye(u,new Xh(u))}Hn.STAT_EVENT="statevent";function Yh(o,u){I.call(this,Hn.STAT_EVENT,o),this.stat=u}d(Yh,I);function Je(o){const u=Hs();Ye(u,new Yh(u,o))}Hn.Ja="timingevent";function Jh(o,u){I.call(this,Hn.Ja,o),this.size=u}d(Jh,I);function _i(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},u)}function Ei(){this.g=!0}Ei.prototype.ua=function(){this.g=!1};function Zv(o,u,h,p,P,x){o.info(function(){if(o.g)if(x){var j="",G=x.split("&");for(let re=0;re<G.length;re++){var Ae=G[re].split("=");if(Ae.length>1){const ke=Ae[0];Ae=Ae[1];const jt=ke.split("_");j=jt.length>=2&&jt[1]=="type"?j+(ke+"="+Ae+"&"):j+(ke+"=redacted&")}}}else j=null;else j=x;return"XMLHTTP REQ ("+p+") [attempt "+P+"]: "+u+`
`+h+`
`+j})}function e_(o,u,h,p,P,x,j){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+P+"]: "+u+`
`+h+`
`+x+" "+j})}function Tr(o,u,h,p){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+n_(o,h)+(p?" "+p:"")})}function t_(o,u){o.info(function(){return"TIMEOUT: "+u})}Ei.prototype.info=function(){};function n_(o,u){if(!o.g)return u;if(!u)return null;try{const x=JSON.parse(u);if(x){for(o=0;o<x.length;o++)if(Array.isArray(x[o])){var h=x[o];if(!(h.length<2)){var p=h[1];if(Array.isArray(p)&&!(p.length<1)){var P=p[0];if(P!="noop"&&P!="stop"&&P!="close")for(let j=1;j<p.length;j++)p[j]=""}}}}return ll(x)}catch{return u}}var Ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ef;function hl(){}d(hl,Qh),hl.prototype.g=function(){return new XMLHttpRequest},ef=new hl;function wi(o){return encodeURIComponent(String(o))}function r_(o){var u=1;o=o.split(":");const h=[];for(;u>0&&o.length;)h.push(o.shift()),u--;return o.length&&h.push(o.join(":")),h}function un(o,u,h,p){this.j=o,this.i=u,this.l=h,this.S=p||1,this.V=new gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tf}function tf(){this.i=null,this.g="",this.h=!1}var nf={},fl={};function dl(o,u,h){o.M=1,o.A=Gs(Lt(u)),o.u=h,o.R=!0,rf(o,null)}function rf(o,u){o.F=Date.now(),Qs(o),o.B=Lt(o.A);var h=o.B,p=o.S;Array.isArray(p)||(p=[String(p)]),yf(h.i,"t",p),o.C=0,h=o.j.L,o.h=new tf,o.g=Mf(o.j,h?u:null,!o.u),o.P>0&&(o.O=new Xv(f(o.Y,o,o.g),o.P)),u=o.V,h=o.g,p=o.ba;var P="readystatechange";Array.isArray(P)||(P&&(Hh[0]=P.toString()),P=Hh);for(let x=0;x<P.length;x++){const j=Uh(h,P[x],p||u.handleEvent,!1,u.h||u);if(!j)break;u.g[j.key]=j}u=o.J?ue(o.J):{},o.u?(o.v||(o.v="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,u)):(o.v="GET",o.g.ea(o.B,o.v,null,u)),vi(),Zv(o.i,o.v,o.B,o.l,o.S,o.u)}un.prototype.ba=function(o){o=o.target;const u=this.O;u&&fn(o)==3?u.j():this.Y(o)},un.prototype.Y=function(o){try{if(o==this.g)e:{const G=fn(this.g),Ae=this.g.ya(),re=this.g.ca();if(!(G<3)&&(G!=3||this.g&&(this.h.h||this.g.la()||If(this.g)))){this.K||G!=4||Ae==7||(Ae==8||re<=0?vi(3):vi(2)),pl(this);var u=this.g.ca();this.X=u;var h=i_(this);if(this.o=u==200,e_(this.i,this.v,this.B,this.l,this.S,G,u),this.o){if(this.U&&!this.L){t:{if(this.g){var p,P=this.g;if((p=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(p)){var x=p;break t}}x=null}if(o=x)Tr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ml(this,o);else{this.o=!1,this.m=3,Je(12),Wn(this),Ti(this);break e}}if(this.R){o=!0;let ke;for(;!this.K&&this.C<h.length;)if(ke=s_(this,h),ke==fl){G==4&&(this.m=4,Je(14),o=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==nf){this.m=4,Je(15),Tr(this.i,this.l,h,"[Invalid Chunk]"),o=!1;break}else Tr(this.i,this.l,ke,null),ml(this,ke);if(sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),G!=4||h.length!=0||this.h.h||(this.m=1,Je(16),o=!1),this.o=this.o&&o,!o)Tr(this.i,this.l,h,"[Invalid Chunked Response]"),Wn(this),Ti(this);else if(h.length>0&&!this.W){this.W=!0;var j=this.j;j.g==this&&j.aa&&!j.P&&(j.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),Sl(j),j.P=!0,Je(11))}}else Tr(this.i,this.l,h,null),ml(this,h);G==4&&Wn(this),this.o&&!this.K&&(G==4?Df(this.j,this):(this.o=!1,Qs(this)))}else __(this.g),u==400&&h.indexOf("Unknown SID")>0?(this.m=3,Je(12)):(this.m=0,Je(13)),Wn(this),Ti(this)}}}catch{}finally{}};function i_(o){if(!sf(o))return o.g.la();const u=If(o.g);if(u==="")return"";let h="";const p=u.length,P=fn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Wn(o),Ti(o),"";o.h.i=new a.TextDecoder}for(let x=0;x<p;x++)o.h.h=!0,h+=o.h.i.decode(u[x],{stream:!(P&&x==p-1)});return u.length=0,o.h.g+=h,o.C=0,o.h.g}function sf(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function s_(o,u){var h=o.C,p=u.indexOf(`
`,h);return p==-1?fl:(h=Number(u.substring(h,p)),isNaN(h)?nf:(p+=1,p+h>u.length?fl:(u=u.slice(p,p+h),o.C=p+h,u)))}un.prototype.cancel=function(){this.K=!0,Wn(this)};function Qs(o){o.T=Date.now()+o.H,of(o,o.H)}function of(o,u){if(o.D!=null)throw Error("WatchDog timer not null");o.D=_i(f(o.aa,o),u)}function pl(o){o.D&&(a.clearTimeout(o.D),o.D=null)}un.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(t_(this.i,this.B),this.M!=2&&(vi(),Je(17)),Wn(this),this.m=2,Ti(this)):of(this,this.T-o)};function Ti(o){o.j.I==0||o.K||Df(o.j,o)}function Wn(o){pl(o);var u=o.O;u&&typeof u.dispose=="function"&&u.dispose(),o.O=null,Wh(o.V),o.g&&(u=o.g,o.g=null,u.abort(),u.dispose())}function ml(o,u){try{var h=o.j;if(h.I!=0&&(h.g==o||gl(h.h,o))){if(!o.L&&gl(h.h,o)&&h.I==3){try{var p=h.Ba.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var P=p;if(P[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<o.F)Zs(h),Ys(h);else break e;Tl(h),Je(18)}}else h.xa=P[1],0<h.xa-h.K&&P[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=_i(f(h.Va,h),6e3));uf(h.h)<=1&&h.ta&&(h.ta=void 0)}else Gn(h,11)}else if((o.L||h.g==o)&&Zs(h),!w(u))for(P=h.Ba.g.parse(u),u=0;u<P.length;u++){let re=P[u];const ke=re[0];if(!(ke<=h.K))if(h.K=ke,re=re[1],h.I==2)if(re[0]=="c"){h.M=re[1],h.ba=re[2];const jt=re[3];jt!=null&&(h.ka=jt,h.j.info("VER="+h.ka));const Kn=re[4];Kn!=null&&(h.za=Kn,h.j.info("SVER="+h.za));const dn=re[5];dn!=null&&typeof dn=="number"&&dn>0&&(p=1.5*dn,h.O=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;const pn=o.g;if(pn){const to=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var x=p.h;x.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(yl(x,x.h),x.h=null))}if(p.G){const Il=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(p.wa=Il,oe(p.J,p.G,Il))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-o.F,h.j.info("Handshake RTT: "+h.T+"ms")),p=h;var j=o;if(p.na=Of(p,p.L?p.ba:null,p.W),j.L){cf(p.h,j);var G=j,Ae=p.O;Ae&&(G.H=Ae),G.D&&(pl(G),Qs(G)),p.g=j}else kf(p);h.i.length>0&&Js(h)}else re[0]!="stop"&&re[0]!="close"||Gn(h,7);else h.I==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?Gn(h,7):wl(h):re[0]!="noop"&&h.l&&h.l.qa(re),h.A=0)}}vi(4)}catch{}}var o_=class{constructor(o,u){this.g=o,this.map=u}};function af(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lf(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function uf(o){return o.h?1:o.g?o.g.size:0}function gl(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function yl(o,u){o.g?o.g.add(u):o.h=u}function cf(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}af.prototype.cancel=function(){if(this.i=hf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function hf(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const h of o.g.values())u=u.concat(h.G);return u}return R(o.i)}var ff=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a_(o,u){if(o){o=o.split("&");for(let h=0;h<o.length;h++){const p=o[h].indexOf("=");let P,x=null;p>=0?(P=o[h].substring(0,p),x=o[h].substring(p+1)):P=o[h],u(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function cn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let u;o instanceof cn?(this.l=o.l,Si(this,o.j),this.o=o.o,this.g=o.g,Ii(this,o.u),this.h=o.h,vl(this,vf(o.i)),this.m=o.m):o&&(u=String(o).match(ff))?(this.l=!1,Si(this,u[1]||"",!0),this.o=Ai(u[2]||""),this.g=Ai(u[3]||"",!0),Ii(this,u[4]),this.h=Ai(u[5]||"",!0),vl(this,u[6]||"",!0),this.m=Ai(u[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}cn.prototype.toString=function(){const o=[];var u=this.j;u&&o.push(Ci(u,df,!0),":");var h=this.g;return(h||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Ci(u,df,!0),"@"),o.push(wi(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&o.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(Ci(h,h.charAt(0)=="/"?c_:u_,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",Ci(h,f_)),o.join("")},cn.prototype.resolve=function(o){const u=Lt(this);let h=!!o.j;h?Si(u,o.j):h=!!o.o,h?u.o=o.o:h=!!o.g,h?u.g=o.g:h=o.u!=null;var p=o.h;if(h)Ii(u,o.u);else if(h=!!o.h){if(p.charAt(0)!="/")if(this.g&&!this.h)p="/"+p;else{var P=u.h.lastIndexOf("/");P!=-1&&(p=u.h.slice(0,P+1)+p)}if(P=p,P==".."||P==".")p="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){p=P.lastIndexOf("/",0)==0,P=P.split("/");const x=[];for(let j=0;j<P.length;){const G=P[j++];G=="."?p&&j==P.length&&x.push(""):G==".."?((x.length>1||x.length==1&&x[0]!="")&&x.pop(),p&&j==P.length&&x.push("")):(x.push(G),p=!0)}p=x.join("/")}else p=P}return h?u.h=p:h=o.i.toString()!=="",h?vl(u,vf(o.i)):h=!!o.m,h&&(u.m=o.m),u};function Lt(o){return new cn(o)}function Si(o,u,h){o.j=h?Ai(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Ii(o,u){if(u){if(u=Number(u),isNaN(u)||u<0)throw Error("Bad port number "+u);o.u=u}else o.u=null}function vl(o,u,h){u instanceof Pi?(o.i=u,d_(o.i,o.l)):(h||(u=Ci(u,h_)),o.i=new Pi(u,o.l))}function oe(o,u,h){o.i.set(u,h)}function Gs(o){return oe(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ai(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ci(o,u,h){return typeof o=="string"?(o=encodeURI(o).replace(u,l_),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function l_(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var df=/[#\/\?@]/g,u_=/[#\?:]/g,c_=/[#\?]/g,h_=/[#\?@]/g,f_=/#/g;function Pi(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function Qn(o){o.g||(o.g=new Map,o.h=0,o.i&&a_(o.i,function(u,h){o.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}t=Pi.prototype,t.add=function(o,u){Qn(this),this.i=null,o=Sr(this,o);let h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(u),this.h+=1,this};function pf(o,u){Qn(o),u=Sr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function mf(o,u){return Qn(o),u=Sr(o,u),o.g.has(u)}t.forEach=function(o,u){Qn(this),this.g.forEach(function(h,p){h.forEach(function(P){o.call(u,P,p,this)},this)},this)};function gf(o,u){Qn(o);let h=[];if(typeof u=="string")mf(o,u)&&(h=h.concat(o.g.get(Sr(o,u))));else for(o=Array.from(o.g.values()),u=0;u<o.length;u++)h=h.concat(o[u]);return h}t.set=function(o,u){return Qn(this),this.i=null,o=Sr(this,o),mf(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=gf(this,o),o.length>0?String(o[0]):u):u};function yf(o,u,h){pf(o,u),h.length>0&&(o.i=null,o.g.set(Sr(o,u),R(h)),o.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(let p=0;p<u.length;p++){var h=u[p];const P=wi(h);h=gf(this,h);for(let x=0;x<h.length;x++){let j=P;h[x]!==""&&(j+="="+wi(h[x])),o.push(j)}}return this.i=o.join("&")};function vf(o){const u=new Pi;return u.i=o.i,o.g&&(u.g=new Map(o.g),u.h=o.h),u}function Sr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function d_(o,u){u&&!o.j&&(Qn(o),o.i=null,o.g.forEach(function(h,p){const P=p.toLowerCase();p!=P&&(pf(this,p),yf(this,P,h))},o)),o.j=u}function p_(o,u){const h=new Ei;if(a.Image){const p=new Image;p.onload=m(hn,h,"TestLoadImage: loaded",!0,u,p),p.onerror=m(hn,h,"TestLoadImage: error",!1,u,p),p.onabort=m(hn,h,"TestLoadImage: abort",!1,u,p),p.ontimeout=m(hn,h,"TestLoadImage: timeout",!1,u,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else u(!1)}function m_(o,u){const h=new Ei,p=new AbortController,P=setTimeout(()=>{p.abort(),hn(h,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:p.signal}).then(x=>{clearTimeout(P),x.ok?hn(h,"TestPingServer: ok",!0,u):hn(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(P),hn(h,"TestPingServer: error",!1,u)})}function hn(o,u,h,p,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),p(h)}catch{}}function g_(){this.g=new Jv}function _l(o){this.i=o.Sb||null,this.h=o.ab||!1}d(_l,Qh),_l.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(o,u){Be.call(this),this.H=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Ks,Be),t=Ks.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=u,this.readyState=1,ki(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const u={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(u.body=o),(this.H||a).fetch(new Request(this.D,u)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_f(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function _f(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.B.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Ri(this):ki(this),this.readyState==3&&_f(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Ri(this))},t.Na=function(o){this.g&&(this.response=o,Ri(this))},t.ga=function(){this.g&&Ri(this)};function Ri(o){o.readyState=4,o.l=null,o.j=null,o.B=null,ki(o)}t.setRequestHeader=function(o,u){this.A.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=u.next();return o.join(`\r
`)};function ki(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ef(o){let u="";return H(o,function(h,p){u+=p,u+=":",u+=h,u+=`\r
`}),u}function El(o,u,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=Ef(h),typeof o=="string"?h!=null&&wi(h):oe(o,u,h))}function ye(o){Be.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(ye,Be);var y_=/^https?$/i,v_=["POST","PUT"];t=ye.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,u,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ef.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(x){wf(this,x);return}if(o=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var P in p)h.set(P,p[P]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const x of p.keys())h.set(x,p.get(x));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(x=>x.toLowerCase()=="content-type"),P=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(v_,u,void 0)>=0)||p||P||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,j]of h)this.g.setRequestHeader(x,j);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(x){wf(this,x)}};function wf(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.o=5,Tf(o),Xs(o)}function Tf(o){o.A||(o.A=!0,Ye(o,"complete"),Ye(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ye(this,"complete"),Ye(this,"abort"),Xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sf(this):this.Xa())},t.Xa=function(){Sf(this)};function Sf(o){if(o.h&&typeof s<"u"){if(o.v&&fn(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ye(o,"readystatechange"),fn(o)==4){o.h=!1;try{const x=o.ca();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var p;if(p=x===0){let j=String(o.D).match(ff)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),p=!y_.test(j?j.toLowerCase():"")}h=p}if(h)Ye(o,"complete"),Ye(o,"success");else{o.o=6;try{var P=fn(o)>2?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.ca()+"]",Tf(o)}}finally{Xs(o)}}}}function Xs(o,u){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const h=o.g;o.g=null,u||Ye(o,"ready");try{h.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fn(o){return o.g?o.g.readyState:0}t.ca=function(){try{return fn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),Yv(u)}};function If(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function __(o){const u={};o=(o.g&&fn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(w(o[p]))continue;var h=r_(o[p]);const P=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const x=u[P]||[];u[P]=x,x.push(h)}Q(u,function(p){return p.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(o,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||u}function Af(o){this.za=0,this.i=[],this.j=new Ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,o),this.Za=xi("retryDelaySeedMs",1e4,o),this.Ta=xi("forwardChannelMaxRetries",2,o),this.va=xi("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new af(o&&o.concurrentRequestLimit),this.Ba=new g_,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Af.prototype,t.ka=8,t.I=1,t.connect=function(o,u,h,p){Je(0),this.W=o,this.H=u||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.J=Of(this,null,this.W),Js(this)};function wl(o){if(Cf(o),o.I==3){var u=o.V++,h=Lt(o.J);if(oe(h,"SID",o.M),oe(h,"RID",u),oe(h,"TYPE","terminate"),Di(o,h),u=new un(o,o.j,u),u.M=2,u.A=Gs(Lt(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(u.A.toString(),"")}catch{}!h&&a.Image&&(new Image().src=u.A,h=!0),h||(u.g=Mf(u.j,null),u.g.ea(u.A)),u.F=Date.now(),Qs(u)}Vf(o)}function Ys(o){o.g&&(Sl(o),o.g.cancel(),o.g=null)}function Cf(o){Ys(o),o.v&&(a.clearTimeout(o.v),o.v=null),Zs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Js(o){if(!lf(o.h)&&!o.m){o.m=!0;var u=o.Ea;b||g(),F||(b(),F=!0),_.add(u,o),o.D=0}}function E_(o,u){return uf(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=u.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=_i(f(o.Ea,o,u),Nf(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const P=new un(this,this.j,o);let x=this.o;if(this.U&&(x?(x=ue(x),$n(x,this.U)):x=this.U),this.u!==null||this.R||(P.J=x,x=null),this.S)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,u>4096){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=Rf(this,P,u),h=Lt(this.J),oe(h,"RID",o),oe(h,"CVER",22),this.G&&oe(h,"X-HTTP-Session-Id",this.G),Di(this,h),x&&(this.R?u="headers="+wi(Ef(x))+"&"+u:this.u&&El(h,this.u,x)),yl(this.h,P),this.Ra&&oe(h,"TYPE","init"),this.S?(oe(h,"$req",u),oe(h,"SID","null"),P.U=!0,dl(P,h,null)):dl(P,h,u),this.I=2}}else this.I==3&&(o?Pf(this,o):this.i.length==0||lf(this.h)||Pf(this))};function Pf(o,u){var h;u?h=u.l:h=o.V++;const p=Lt(o.J);oe(p,"SID",o.M),oe(p,"RID",h),oe(p,"AID",o.K),Di(o,p),o.u&&o.o&&El(p,o.u,o.o),h=new un(o,o.j,h,o.D+1),o.u===null&&(h.J=o.o),u&&(o.i=u.G.concat(o.i)),u=Rf(o,h,1e3),h.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),yl(o.h,h),dl(h,p,u)}function Di(o,u){o.H&&H(o.H,function(h,p){oe(u,p,h)}),o.l&&H({},function(h,p){oe(u,p,h)})}function Rf(o,u,h){h=Math.min(o.i.length,h);const p=o.l?f(o.l.Ka,o.l,o):null;e:{var P=o.i;let G=-1;for(;;){const Ae=["count="+h];G==-1?h>0?(G=P[0].g,Ae.push("ofs="+G)):G=0:Ae.push("ofs="+G);let re=!0;for(let ke=0;ke<h;ke++){var x=P[ke].g;const jt=P[ke].map;if(x-=G,x<0)G=Math.max(0,P[ke].g-100),re=!1;else try{x="req"+x+"_"||"";try{var j=jt instanceof Map?jt:Object.entries(jt);for(const[Kn,dn]of j){let pn=dn;l(dn)&&(pn=ll(dn)),Ae.push(x+Kn+"="+encodeURIComponent(pn))}}catch(Kn){throw Ae.push(x+"type="+encodeURIComponent("_badmap")),Kn}}catch{p&&p(jt)}}if(re){j=Ae.join("&");break e}}j=void 0}return o=o.i.splice(0,h),u.G=o,j}function kf(o){if(!o.g&&!o.v){o.Y=1;var u=o.Da;b||g(),F||(b(),F=!0),_.add(u,o),o.A=0}}function Tl(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=_i(f(o.Da,o),Nf(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,xf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=_i(f(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Je(10),Ys(this),xf(this))};function Sl(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function xf(o){o.g=new un(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var u=Lt(o.na);oe(u,"RID","rpc"),oe(u,"SID",o.M),oe(u,"AID",o.K),oe(u,"CI",o.F?"0":"1"),!o.F&&o.ia&&oe(u,"TO",o.ia),oe(u,"TYPE","xmlhttp"),Di(o,u),o.u&&o.o&&El(u,o.u,o.o),o.O&&(o.g.H=o.O);var h=o.g;o=o.ba,h.M=1,h.A=Gs(Lt(u)),h.u=null,h.R=!0,rf(h,o)}t.Va=function(){this.C!=null&&(this.C=null,Ys(this),Tl(this),Je(19))};function Zs(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Df(o,u){var h=null;if(o.g==u){Zs(o),Sl(o),o.g=null;var p=2}else if(gl(o.h,u))h=u.G,cf(o.h,u),p=1;else return;if(o.I!=0){if(u.o)if(p==1){h=u.u?u.u.length:0,u=Date.now()-u.F;var P=o.D;p=Hs(),Ye(p,new Jh(p,h)),Js(o)}else kf(o);else if(P=u.m,P==3||P==0&&u.X>0||!(p==1&&E_(o,u)||p==2&&Tl(o)))switch(h&&h.length>0&&(u=o.h,u.i=u.i.concat(h)),P){case 1:Gn(o,5);break;case 4:Gn(o,10);break;case 3:Gn(o,6);break;default:Gn(o,2)}}}function Nf(o,u){let h=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(h*=2),h*u}function Gn(o,u){if(o.j.info("Error code "+u),u==2){var h=f(o.bb,o),p=o.Ua;const P=!p;p=new cn(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Si(p,"https"),Gs(p),P?p_(p.toString(),h):m_(p.toString(),h)}else Je(2);o.I=0,o.l&&o.l.pa(u),Vf(o),Cf(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function Vf(o){if(o.I=0,o.ja=[],o.l){const u=hf(o.h);(u.length!=0||o.i.length!=0)&&(k(o.ja,u),k(o.ja,o.i),o.h.i.length=0,R(o.i),o.i.length=0),o.l.oa()}}function Of(o,u,h){var p=h instanceof cn?Lt(h):new cn(h);if(p.g!="")u&&(p.g=u+"."+p.g),Ii(p,p.u);else{var P=a.location;p=P.protocol,u=u?u+"."+P.hostname:P.hostname,P=+P.port;const x=new cn(null);p&&Si(x,p),u&&(x.g=u),P&&Ii(x,P),h&&(x.h=h),p=x}return h=o.G,u=o.wa,h&&u&&oe(p,h,u),oe(p,"VER",o.ka),Di(o,p),p}function Mf(o,u,h){if(u&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Aa&&!o.ma?new ye(new _l({ab:h})):new ye(o.ma),u.Fa(o.L),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lf(){}t=Lf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function eo(){}eo.prototype.g=function(o,u){return new ct(o,u)};function ct(o,u){Be.call(this),this.g=new Af(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.sa&&(o?o["X-WebChannel-Client-Profile"]=u.sa:o={"X-WebChannel-Client-Profile":u.sa}),this.g.U=o,(o=u&&u.Qb)&&!w(o)&&(this.g.u=o),this.A=u&&u.supportsCrossDomainXhr||!1,this.v=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!w(u)&&(this.g.G=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Ir(this)}d(ct,Be),ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ct.prototype.close=function(){wl(this.g)},ct.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.v&&(h={},h.__data__=ll(o),o=h);u.i.push(new o_(u.Ya++,o)),u.I==3&&Js(u)},ct.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,ct.Z.N.call(this)};function jf(o){ul.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const h in u){o=h;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}d(jf,ul);function bf(){cl.call(this),this.status=1}d(bf,cl);function Ir(o){this.g=o}d(Ir,Lf),Ir.prototype.ra=function(){Ye(this.g,"a")},Ir.prototype.qa=function(o){Ye(this.g,new jf(o))},Ir.prototype.pa=function(o){Ye(this.g,new bf)},Ir.prototype.oa=function(){Ye(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,ct.prototype.send=ct.prototype.o,ct.prototype.open=ct.prototype.m,ct.prototype.close=ct.prototype.close,zy=function(){return new eo},Uy=function(){return Hs()},Fy=Hn,ac={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,Fo=Ws,Zh.COMPLETE="complete",by=Zh,Gh.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Be.prototype.listen=Be.prototype.J,Hi=Gh,ye.prototype.listenOnce=ye.prototype.K,ye.prototype.getLastError=ye.prototype.Ha,ye.prototype.getLastErrorCode=ye.prototype.ya,ye.prototype.getStatus=ye.prototype.ca,ye.prototype.getResponseJson=ye.prototype.La,ye.prototype.getResponseText=ye.prototype.la,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Fa,jy=ye}).apply(typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{});const mp="@firebase/firestore",gp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Dy("@firebase/firestore");function Cr(){return dr.logLevel}function $(t,...e){if(dr.logLevel<=J.DEBUG){const n=e.map(vh);dr.debug(`Firestore (${fi}): ${t}`,...n)}}function pr(t,...e){if(dr.logLevel<=J.ERROR){const n=e.map(vh);dr.error(`Firestore (${fi}): ${t}`,...n)}}function Ka(t,...e){if(dr.logLevel<=J.WARN){const n=e.map(vh);dr.warn(`Firestore (${fi}): ${t}`,...n)}}function vh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,By(t,r,n)}function By(t,e,n){let r=`FIRESTORE (${fi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pr(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||By(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}}class MT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LT{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new $y(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new We(e)}}class jT{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bT{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jT(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FT{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_T(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,$("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function lc(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return nu(i)===nu(s)?ee(i,s):nu(i)?1:-1}return ee(t.length,e.length)}const zT=55296,BT=57343;function nu(t){const e=t.charCodeAt(0);return e>=zT&&e<=BT}function ni(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="__name__";class Ut{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&K(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ut.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ut?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ut.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ee(e.length,n.length)}static compareSegments(e,n){const r=Ut.isNumericId(e),i=Ut.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ut.extractNumericId(e).compare(Ut.extractNumericId(n)):lc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yh.fromString(e.substring(4,e.length-2))}}class pe extends Ut{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const $T=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class be extends Ut{construct(e,n,r){return new be(e,n,r)}static isValidIdentifier(e){return $T.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vp}static keyField(){return new be([vp])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new be(n)}static emptyPath(){return new be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(pe.fromString(e))}static fromName(e){return new W(pe.fromString(e).popFirst(5))}static empty(){return new W(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e,n){if(!n)throw new q(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qT(t,e,n,r){if(e===!0&&r===!0)throw new q(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _p(t){if(!W.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ep(t){if(W.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hy(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K(12329,{type:typeof t})}function Wy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eh(t);throw new q(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t,e){const n={typeString:t};return e&&(n.value=e),n}function bs(t,e){if(!Hy(t))throw new q(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new q(M.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-62135596800,Tp=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(e){return fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Tp);return new fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wp)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tp}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bs(e,fe._jsonSchema))return new fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Ie("string",fe._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new fe(0,0))}static max(){return new ce(new fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=-1;function HT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new fe(n+1,0):new fe(n,r));return new Ln(i,W.empty(),e)}function WT(t){return new Ln(t.readTime,t.key,ks)}class Ln{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ln(ce.min(),W.empty(),ks)}static max(){return new Ln(ce.max(),W.empty(),ks)}}function QT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==GT)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(m=>{a[f]=m,++l,l===s&&r(a)},m=>i(m))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function XT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=-1;function Ih(t){return t==null}function va(t){return t===0&&1/t==-1/0}function YT(t){return typeof t=="number"&&Number.isInteger(t)&&!va(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="";function JT(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sp(e)),e=ZT(t.get(n),e);return Sp(e)}function ZT(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Qy:n+="";break;default:n+=s}}return n}function Sp(t){return t+Qy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Le.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}}class wo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Le.RED,this.left=i??Le.EMPTY,this.right=s??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Le(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Le.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Le(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ap(this.data.getIterator())}getIteratorFrom(e){return new Ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ue)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ue(this.comparator);return n.data=e,n}}class Ap{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.fields=e,e.sort(be.comparator)}static empty(){return new Nt([])}unionWith(e){let n=new Ue(be.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ni(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eS("Invalid base64 string: "+s):s}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const tS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=tS.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ri(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="server_timestamp",Xy="__type__",Yy="__previous_value__",Jy="__local_write_time__";function Ah(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Xy])==null?void 0:r.stringValue)===Ky}function Ch(t){const e=t.mapValue.fields[Yy];return Ah(e)?Ch(e):e}function _a(t){const e=mr(t.mapValue.fields[Jy].timestampValue);return new fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i,s,a,l,c,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=m}}const Ea="(default)";class wa{constructor(e,n){this.projectId=e,this.database=n||Ea}static empty(){return new wa("","")}get isDefaultDatabase(){return this.database===Ea}isEqual(e){return e instanceof wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__type__",rS="__max__",To={mapValue:{}},ev="__vector__",uc="value";function gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ah(t)?4:sS(t)?9007199254740991:iS(t)?10:11:K(28295,{value:t})}function Ht(t,e){if(t===e)return!0;const n=gr(t);if(n!==gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _a(t).isEqual(_a(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=mr(i.timestampValue),l=mr(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ri(i.bytesValue).isEqual(ri(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=je(i.doubleValue),l=je(s.doubleValue);return a===l?va(a)===va(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ni(t.arrayValue.values||[],e.arrayValue.values||[],Ht);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Ip(a)!==Ip(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ht(a[c],l[c])))return!1;return!0}(t,e);default:return K(52216,{left:t})}}function xs(t,e){return(t.values||[]).find(n=>Ht(n,e))!==void 0}function ii(t,e){if(t===e)return 0;const n=gr(t),r=gr(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=je(s.integerValue||s.doubleValue),c=je(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Cp(t.timestampValue,e.timestampValue);case 4:return Cp(_a(t),_a(e));case 5:return lc(t.stringValue,e.stringValue);case 6:return function(s,a){const l=ri(s),c=ri(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let f=0;f<l.length&&f<c.length;f++){const m=ee(l[f],c[f]);if(m!==0)return m}return ee(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=ee(je(s.latitude),je(a.latitude));return l!==0?l:ee(je(s.longitude),je(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pp(t.arrayValue,e.arrayValue);case 10:return function(s,a){var y,R,k,D;const l=s.fields||{},c=a.fields||{},f=(y=l[uc])==null?void 0:y.arrayValue,m=(R=c[uc])==null?void 0:R.arrayValue,d=ee(((k=f==null?void 0:f.values)==null?void 0:k.length)||0,((D=m==null?void 0:m.values)==null?void 0:D.length)||0);return d!==0?d:Pp(f,m)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===To.mapValue&&a===To.mapValue)return 0;if(s===To.mapValue)return 1;if(a===To.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),f=a.fields||{},m=Object.keys(f);c.sort(),m.sort();for(let d=0;d<c.length&&d<m.length;++d){const y=lc(c[d],m[d]);if(y!==0)return y;const R=ii(l[c[d]],f[m[d]]);if(R!==0)return R}return ee(c.length,m.length)}(t.mapValue,e.mapValue);default:throw K(23264,{he:n})}}function Cp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=mr(t),r=mr(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function Pp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ii(n[i],r[i]);if(s)return s}return ee(n.length,r.length)}function si(t){return cc(t)}function cc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${cc(n.fields[a])}`;return i+"}"}(t.mapValue):K(61005,{value:t})}function Uo(t){switch(gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(t);return e?16+Uo(e):16;case 5:return 2*t.stringValue.length;case 6:return ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Uo(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return di(r.fields,(s,a)=>{i+=s.length+Uo(a)}),i}(t.mapValue);default:throw K(13486,{value:t})}}function hc(t){return!!t&&"integerValue"in t}function Ph(t){return!!t&&"arrayValue"in t}function zo(t){return!!t&&"mapValue"in t}function iS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Zy])==null?void 0:r.stringValue)===ev}function ns(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ns(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ns(t.arrayValue.values[n]);return e}return{...t}}function sS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.value=e}static empty(){return new xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ns(n)}setAll(e){let n=be.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=ns(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ht(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xt(ns(this.value))}}function tv(t){const e=[];return di(t.fields,(n,r)=>{const i=new be([n]);if(zo(r)){const s=tv(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Nt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new kt(e,0,ce.min(),ce.min(),ce.min(),xt.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,ce.min(),ce.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ce.min(),ce.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.position=e,this.inclusive=n}}function Rp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(a.referenceValue),n.key):r=ii(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ht(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function oS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{}class Ne extends nv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lS(e,n,r):n==="array-contains"?new hS(e,r):n==="in"?new fS(e,r):n==="not-in"?new dS(e,r):n==="array-contains-any"?new pS(e,r):new Ne(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uS(e,r):new cS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ii(n,this.value)):n!==null&&gr(this.value)===gr(n)&&this.matchesComparison(ii(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends nv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jn(e,n)}matches(e){return rv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rv(t){return t.op==="and"}function iv(t){return aS(t)&&rv(t)}function aS(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function fc(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+si(t.value);if(iv(t))return t.filters.map(e=>fc(e)).join(",");{const e=t.filters.map(n=>fc(n)).join(",");return`${t.op}(${e})`}}function sv(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&Ht(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&sv(a,i.filters[l]),!0):!1}(t,e):void K(19439)}function ov(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${si(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(ov).join(" ,")+"}"}(t):"Filter"}class lS extends Ne{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class uS extends Ne{constructor(e,n){super(e,"in",n),this.keys=av("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cS extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=av("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function av(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class hS extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ph(n)&&xs(n.arrayValue,this.value)}}class fS extends Ne{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xs(this.value.arrayValue,n)}}class dS extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(xs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xs(this.value.arrayValue,n)}}class pS extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ph(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function xp(t,e=null,n=[],r=[],i=null,s=null,a=null){return new mS(t,e,n,r,i,s,a)}function Rh(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>si(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>si(r)).join(",")),e.Te=n}return e.Te}function kh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kp(t.startAt,e.startAt)&&kp(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gS(t,e,n,r,i,s,a,l){return new Xa(t,e,n,r,i,s,a,l)}function yS(t){return new Xa(t)}function Dp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vS(t){return t.collectionGroup!==null}function rs(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ue(be.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Sa(s,r))}),n.has(be.keyField().canonicalString())||e.Ie.push(new Sa(be.keyField(),r))}return e.Ie}function ar(t){const e=se(t);return e.Ee||(e.Ee=_S(e,rs(t))),e.Ee}function _S(t,e){if(t.limitType==="F")return xp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sa(i.field,s)});const n=t.endAt?new Ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ta(t.startAt.position,t.startAt.inclusive):null;return xp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dc(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lv(t,e){return kh(ar(t),ar(e))&&t.limitType===e.limitType}function uv(t){return`${Rh(ar(t))}|lt:${t.limitType}`}function Ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ov(i)).join(", ")}]`),Ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>si(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>si(i)).join(",")),`Target(${r})`}(ar(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):W.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of rs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const f=Rp(a,l,c);return a.inclusive?f<=0:f<0}(r.startAt,rs(r),i)||r.endAt&&!function(a,l,c){const f=Rp(a,l,c);return a.inclusive?f>=0:f>0}(r.endAt,rs(r),i))}(t,e)}function ES(t){return(e,n)=>{let r=!1;for(const i of rs(t)){const s=wS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wS(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),f=l.data.field(s);return c!==null&&f!==null?ii(c,f):K(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Gy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new ut(W.comparator);function Ia(){return TS}const cv=new ut(W.comparator);function So(...t){let e=cv;for(const n of t)e=e.insert(n.key,n);return e}function hv(t){let e=cv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function nr(){return is()}function fv(){return is()}function is(){return new Er(t=>t.toString(),(t,e)=>t.isEqual(e))}const SS=new ut(W.comparator),IS=new Ue(W.comparator);function Ge(...t){let e=IS;for(const n of t)e=e.add(n);return e}const AS=new Ue(ee);function CS(){return AS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:va(e)?"-0":e}}function dv(t){return{integerValue:""+t}}function PS(t,e){return YT(e)?dv(e):Dh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this._=void 0}}function RS(t,e,n){return t instanceof Aa?function(i,s){const a={fields:{[Xy]:{stringValue:Ky},[Jy]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ah(s)&&(s=Ch(s)),s&&(a.fields[Yy]=s),{mapValue:a}}(n,e):t instanceof Ds?mv(t,e):t instanceof Ns?gv(t,e):function(i,s){const a=pv(i,s),l=Np(a)+Np(i.Ae);return hc(a)&&hc(i.Ae)?dv(l):Dh(i.serializer,l)}(t,e)}function kS(t,e,n){return t instanceof Ds?mv(t,e):t instanceof Ns?gv(t,e):n}function pv(t,e){return t instanceof Ca?function(r){return hc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Aa extends Ya{}class Ds extends Ya{constructor(e){super(),this.elements=e}}function mv(t,e){const n=yv(e);for(const r of t.elements)n.some(i=>Ht(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ns extends Ya{constructor(e){super(),this.elements=e}}function gv(t,e){let n=yv(e);for(const r of t.elements)n=n.filter(i=>!Ht(i,r));return{arrayValue:{values:n}}}class Ca extends Ya{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Np(t){return je(t.integerValue||t.doubleValue)}function yv(t){return Ph(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ds&&i instanceof Ds||r instanceof Ns&&i instanceof Ns?ni(r.elements,i.elements,Ht):r instanceof Ca&&i instanceof Ca?Ht(r.Ae,i.Ae):r instanceof Aa&&i instanceof Aa}(t.transform,e.transform)}class DS{constructor(e,n){this.version=e,this.transformResults=n}}class Jt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jt}static exists(e){return new Jt(void 0,e)}static updateTime(e){return new Jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ja{}function vv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ev(t.key,Jt.none()):new Us(t.key,t.data,Jt.none());{const n=t.data,r=xt.empty();let i=new Ue(be.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new wr(t.key,r,new Nt(i.toArray()),Jt.none())}}function NS(t,e,n){t instanceof Us?function(i,s,a){const l=i.value.clone(),c=Op(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof wr?function(i,s,a){if(!Bo(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Op(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(_v(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ss(t,e,n,r){return t instanceof Us?function(s,a,l,c){if(!Bo(s.precondition,a))return l;const f=s.value.clone(),m=Mp(s.fieldTransforms,c,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof wr?function(s,a,l,c){if(!Bo(s.precondition,a))return l;const f=Mp(s.fieldTransforms,c,a),m=a.data;return m.setAll(_v(s)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,l){return Bo(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function VS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pv(r.transform,i||null);s!=null&&(n===null&&(n=xt.empty()),n.set(r.field,s))}return n||null}function Vp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ni(r,i,(s,a)=>xS(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Us extends Ja{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wr extends Ja{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _v(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Op(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,kS(a,l,n[i]))}return r}function Mp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,RS(s,a,e))}return r}class Ev extends Ja{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OS extends Ja{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&NS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fv();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=vv(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&ni(this.mutations,e.mutations,(n,r)=>Vp(n,r))&&ni(this.baseMutations,e.baseMutations,(n,r)=>Vp(n,r))}}class Nh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return SS}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Nh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Y;function jS(t){switch(t){case M.OK:return K(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return K(15467,{code:t})}}function bS(t){if(t===void 0)return pr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Te.OK:return M.OK;case Te.CANCELLED:return M.CANCELLED;case Te.UNKNOWN:return M.UNKNOWN;case Te.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Te.INTERNAL:return M.INTERNAL;case Te.UNAVAILABLE:return M.UNAVAILABLE;case Te.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Te.NOT_FOUND:return M.NOT_FOUND;case Te.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Te.ABORTED:return M.ABORTED;case Te.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Te.DATA_LOSS:return M.DATA_LOSS;default:return K(39323,{code:t})}}(Y=Te||(Te={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new yh([4294967295,4294967295],0);class FS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zS(t,e){return pc(t,e.toTimestamp())}function Qr(t){return _e(!!t,49232),ce.fromTimestamp(function(n){const r=mr(n);return new fe(r.seconds,r.nanos)}(t))}function wv(t,e){return mc(t,e).canonicalString()}function mc(t,e){const n=function(i){return new pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BS(t){const e=pe.fromString(t);return _e(XS(e),10190,{key:e.toString()}),e}function gc(t,e){return wv(t.databaseId,e.path)}function $S(t){const e=BS(t);return e.length===4?pe.emptyPath():HS(e)}function qS(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HS(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lp(t,e,n){return{name:gc(t,e),fields:n.value.mapValue.fields}}function WS(t,e){let n;if(e instanceof Us)n={update:Lp(t,e.key,e.value)};else if(e instanceof Ev)n={delete:gc(t,e.key)};else if(e instanceof wr)n={update:Lp(t,e.key,e.data),updateMask:KS(e.fieldMask)};else{if(!(e instanceof OS))return K(16599,{Vt:e.type});n={verify:gc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Aa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ds)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ns)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ca)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw K(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zS(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K(27497)}(t,e.precondition)),n}function QS(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Qr(i.updateTime):Qr(s);return a.isEqual(ce.min())&&(a=Qr(s)),new DS(a,i.transformResults||[])}(n,e))):[]}function GS(t){let e=$S(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=function(d){const y=Tv(d);return y instanceof jn&&iv(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(y=>function(k){return new Sa(Pr(k.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(d){let y;return y=typeof d=="object"?d.value:d,Ih(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(d){const y=!!d.before,R=d.values||[];return new Ta(R,y)}(n.startAt));let f=null;return n.endAt&&(f=function(d){const y=!d.before,R=d.values||[];return new Ta(R,y)}(n.endAt)),gS(e,i,a,s,l,"F",c,f)}function Tv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pr(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pr(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pr(n.unaryFilter.field);return Ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Pr(n.unaryFilter.field);return Ne.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(Pr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>Tv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(n.compositeFilter.op))}(t):K(30097,{filter:t})}function Pr(t){return be.fromServerFormat(t.fieldPath)}function KS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.yt=e}}function JS(t){const e=GS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.Cn=new eI}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Ln.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class eI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ue(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ue(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sv=41943040;class rt{static withCacheSize(e){return new rt(e,rt.DEFAULT_COLLECTION_PERCENTILE,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rt.DEFAULT_COLLECTION_PERCENTILE=10,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rt.DEFAULT=new rt(Sv,rt.DEFAULT_COLLECTION_PERCENTILE,rt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rt.DISABLED=new rt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oi(0)}static cr(){return new oi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="LruGarbageCollector",tI=1048576;function Fp([t,e],[n,r]){const i=ee(t,n);return i===0?ee(e,r):i}class nI{constructor(e){this.Ir=e,this.buffer=new Ue(Fp),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Fp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$(bp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fs(n)?$(bp,"Ignoring IndexedDB error during garbage collection: ",n):await wh(n)}await this.Vr(3e5)})}}class iI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Th.ce);const r=new nI(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(jp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jp):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,c,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,l=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(f=Date.now(),Cr()<=J.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(f-c)+`ms
Total Duration: ${f-m}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function sI(t,e){return new iI(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.changes=new Er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ss(r.mutation,i,Nt.empty(),fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=So();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Ia();const a=is(),l=function(){return is()}();return n.forEach((c,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof wr)?s=s.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),ss(m.mutation,f,m.mutation.getFieldMask(),fe.now())):a.set(f.key,Nt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>l.set(f,new aI(m,a.get(f)??null))),l))}recalculateAndSaveOverlays(e,n){const r=is();let i=new ut((a,l)=>a-l),s=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let m=r.get(c)||Nt.empty();m=l.applyToLocalView(f,m),r.set(c,m);const d=(i.get(l.batchId)||Ge()).add(c);i=i.insert(l.batchId,d)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,m=c.value,d=fv();m.forEach(y=>{if(!s.has(y)){const R=vv(n.get(y),r.get(y));R!==null&&d.set(y,R),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,d))}return V.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return W.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(nr());let l=ks,c=s;return a.next(f=>V.forEach(f,(m,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(m)?V.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{c=c.insert(m,y)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,Ge())).next(m=>({batchId:l,changes:hv(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=So();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=So();return this.indexManager.getCollectionParents(e,s).next(l=>V.forEach(l,c=>{const f=function(d,y){return new Xa(y,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((d,y)=>{a=a.insert(d,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,kt.newInvalidDocument(m)))});let l=So();return a.forEach((c,f)=>{const m=s.get(c);m!==void 0&&ss(m.mutation,f,Nt.empty(),fe.now()),xh(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return V.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:JS(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.overlays=new ut(W.comparator),this.qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=nr();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=nr(),s=n.length+1,a=new W(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=nr(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const l=nr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,m)=>l.set(f,m)),!(l.size()>=i)););return V.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new LS(n,r));let s=this.qr.get(n);s===void 0&&(s=Ge(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.Qr=new Ue(xe.$r),this.Ur=new Ue(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new xe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new xe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new W(new pe([])),r=new xe(n,e),i=new xe(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new W(new pe([])),r=new xe(n,e),i=new xe(n,e+1);let s=Ge();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new xe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return W.comparator(e.key,n.key)||ee(e.Yr,n.Yr)}static Kr(e,n){return ee(e.Yr,n.Yr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(xe.$r)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new MS(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new xe(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return V.resolve(a)}lookupMutationBatch(e,n){return V.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Sh:this.tr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xe(n,0),i=new xe(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const l=this.Xr(a.Yr);s.push(l)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ue(ee);return n.forEach(i=>{const s=new xe(i,0),a=new xe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{r=r.add(l.Yr)})}),V.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;W.isDocumentKey(s)||(s=s.child(""));const a=new xe(new W(s),0);let l=new Ue(ee);return this.Zr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)},a),V.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return V.forEach(n.mutations,i=>{const s=new xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new xe(n,0),i=this.Zr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.ri=e,this.docs=function(){return new ut(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Ia();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ia();const a=n.path,l=new W(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||QT(WT(m),r)<=0||(i.has(m.key)||xh(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K(9500)}ii(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pI(this)}getSize(e){return V.resolve(this.size)}}class pI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.persistence=e,this.si=new Er(n=>Rh(n),kh),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Vh,this.targetCount=0,this.ai=oi.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),V.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Pr(n),V.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new hI,this.referenceDelegate=e(this),this.Pi=new mI(this),this.indexManager=new ZS,this.remoteDocumentCache=function(i){return new dI(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new YS(n),this.Ii=new uI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new fI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new gI(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return V.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class gI extends KT{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.Ri=new Vh,this.Vi=null}static mi(e){return new Oh(e)}get fi(){if(this.Vi)return this.Vi;throw K(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,r=>{const i=W.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return V.or([()=>V.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Pa{constructor(e,n){this.persistence=e,this.pi=new Er(r=>JT(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=sI(this,n)}static mi(e,n){return new Pa(e,n)}Ei(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return V.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,s.removeEntry(a,ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uo(e.data.value)),n}br(e,n,r){return V.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ge(),i=Ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Mh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return gw()?8:XT(pw())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new yI;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Cr()<=J.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(Cr()<=J.DEBUG&&$("QueryEngine","Query:",Ui(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Cr()<=J.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):V.resolve())}ys(e,n){if(Dp(n))return V.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dc(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Ge(...s);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.Ds(n,l);return this.Cs(n,f,a,c.readTime)?this.ys(e,dc(n,null,"F")):this.vs(e,f,n,c)}))})))}ws(e,n,r,i){return Dp(n)||i.isEqual(ce.min())?V.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?V.resolve(null):(Cr()<=J.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ui(n)),this.vs(e,a,n,HT(i,ks)).next(l=>l))})}Ds(e,n){let r=new Ue(ES(e));return n.forEach((i,s)=>{xh(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Cr()<=J.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Ui(n)),this.ps.getDocumentsMatchingQuery(e,n,Ln.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="LocalStore";class EI{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ut(ee),this.xs=new Er(s=>Rh(s),kh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function wI(t,e,n,r){return new EI(t,e,n,r)}async function Av(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=Ge();for(const f of i){a.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}for(const f of s){l.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ls:f,removedBatchIds:a,addedBatchIds:l}))})})}function TI(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,f,m){const d=f.batch,y=d.keys();let R=V.resolve();return y.forEach(k=>{R=R.next(()=>m.getEntry(c,k)).next(D=>{const O=f.docVersions.get(k);_e(O!==null,48541),D.version.compareTo(O)<0&&(d.applyToRemoteDocument(D,f),D.isValidDocument()&&(D.setReadTime(f.commitVersion),m.addEntry(D)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ge();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SI(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function II(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Up{constructor(){this.activeTargetIds=CS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AI{constructor(){this.Mo=new Up,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Up,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="ConnectivityMonitor";class Bp{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$(zp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$(zp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=null;function yc(){return Io===null?Io=function(){return 268435456+Math.round(2147483648*Math.random())}():Io++,"0x"+Io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ea?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=yc(),l=this.zo(e,n.toUriEncodedString());$(ru,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:f}=new URL(l),m=mh(f);return this.Jo(e,l,c,r,m).then(d=>($(ru,`Received RPC '${e}' ${a}: `,d),d),d=>{throw Ka(ru,`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=PI[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class xI extends RI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=yc();return new Promise((l,c)=>{const f=new jy;f.setWithCredentials(!0),f.listenOnce(by.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fo.NO_ERROR:const d=f.getResponseJson();$(He,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),l(d);break;case Fo.TIMEOUT:$(He,`RPC '${e}' ${a} timed out`),c(new q(M.DEADLINE_EXCEEDED,"Request time out"));break;case Fo.HTTP_ERROR:const y=f.getStatus();if($(He,`RPC '${e}' ${a} failed with status:`,y,"response text:",f.getResponseText()),y>0){let R=f.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R==null?void 0:R.error;if(k&&k.status&&k.message){const D=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(k.status);c(new q(D,k.message))}else c(new q(M.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new q(M.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{$(He,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(i);$(He,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",m,r,15)})}T_(e,n,r){const i=yc(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=zy(),l=Uy(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=s.join("");$(He,`Creating RPC '${e}' stream ${i}: ${m}`,c);const d=a.createWebChannel(m,c);this.I_(d);let y=!1,R=!1;const k=new kI({Yo:O=>{R?$(He,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(y||($(He,`Opening RPC '${e}' stream ${i} transport.`),d.open(),y=!0),$(He,`RPC '${e}' stream ${i} sending:`,O),d.send(O))},Zo:()=>d.close()}),D=(O,T,v)=>{O.listen(T,A=>{try{v(A)}catch(N){setTimeout(()=>{throw N},0)}})};return D(d,Hi.EventType.OPEN,()=>{R||($(He,`RPC '${e}' stream ${i} transport opened.`),k.o_())}),D(d,Hi.EventType.CLOSE,()=>{R||(R=!0,$(He,`RPC '${e}' stream ${i} transport closed`),k.a_(),this.E_(d))}),D(d,Hi.EventType.ERROR,O=>{R||(R=!0,Ka(He,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),k.a_(new q(M.UNAVAILABLE,"The operation could not be completed")))}),D(d,Hi.EventType.MESSAGE,O=>{var T;if(!R){const v=O.data[0];_e(!!v,16349);const A=v,N=(A==null?void 0:A.error)||((T=A[0])==null?void 0:T.error);if(N){$(He,`RPC '${e}' stream ${i} received error:`,N);const b=N.status;let F=function(E){const S=Te[E];if(S!==void 0)return bS(S)}(b),_=N.message;F===void 0&&(F=M.INTERNAL,_="Unknown error status: "+b+" with message "+N.message),R=!0,k.a_(new q(F,_)),d.close()}else $(He,`RPC '${e}' stream ${i} received:`,v),k.u_(v)}}),D(l,Fy.STAT_EVENT,O=>{O.stat===ac.PROXY?$(He,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===ac.NOPROXY&&$(He,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function iu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){return new FS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="PersistentStream";class DI{constructor(e,n,r,i,s,a,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new q(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $($p,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():($($p,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NI extends DI{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QS(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WS(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{}class OI extends VI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,mc(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(M.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,mc(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(M.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class MI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):$("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class LI{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{$s(this)&&($(zs,"Restarting streams for network reachability change."),await async function(c){const f=se(c);f.Ea.add(4),await Bs(f),f.Ra.set("Unknown"),f.Ea.delete(4),await el(f)}(this))})}),this.Ra=new MI(r,i)}}async function el(t){if($s(t))for(const e of t.da)await e(!0)}async function Bs(t){for(const e of t.da)await e(!1)}function $s(t){return se(t).Ea.size===0}async function Pv(t,e,n){if(!Fs(e))throw e;t.Ea.add(1),await Bs(t),t.Ra.set("Offline"),n||(n=()=>SI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(zs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await el(t)})}function Rv(t,e){return e().catch(n=>Pv(t,n,e))}async function tl(t){const e=se(t),n=bn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sh;for(;jI(e);)try{const i=await II(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,bI(e,i)}catch(i){await Pv(e,i)}kv(e)&&xv(e)}function jI(t){return $s(t)&&t.Ta.length<10}function bI(t,e){t.Ta.push(e);const n=bn(t);n.O_()&&n.X_&&n.ea(e.mutations)}function kv(t){return $s(t)&&!bn(t).x_()&&t.Ta.length>0}function xv(t){bn(t).start()}async function FI(t){bn(t).ra()}async function UI(t){const e=bn(t);for(const n of t.Ta)e.ea(n.mutations)}async function zI(t,e,n){const r=t.Ta.shift(),i=Nh.from(r,e,n);await Rv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tl(t)}async function BI(t,e){e&&bn(t).X_&&await async function(r,i){if(function(a){return jS(a)&&a!==M.ABORTED}(i.code)){const s=r.Ta.shift();bn(r).B_(),await Rv(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tl(r)}}(t,e),kv(t)&&xv(t)}async function qp(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),$(zs,"RemoteStore received new credentials");const r=$s(n);n.Ea.add(3),await Bs(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await el(n)}async function $I(t,e){const n=se(t);e?(n.Ea.delete(2),await el(n)):e||(n.Ea.add(2),await Bs(n),n.Ra.set("Unknown"))}function bn(t){return t.fa||(t.fa=function(n,r,i){const s=se(n);return s.sa(),new NI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FI.bind(null,t),r_:BI.bind(null,t),ta:UI.bind(null,t),na:zI.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await tl(t)):(await t.fa.stop(),t.Ta.length>0&&($(zs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new Lh(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(t,e){if(pr("AsyncQueue",`${e}: ${t}`),Fs(t))return new q(M.UNAVAILABLE,`${e}: ${t}`);throw t}class qI{constructor(){this.queries=Hp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=Hp(),s.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new q(M.ABORTED,"Firestore shutting down"))}}function Hp(){return new Er(t=>uv(t),lv)}function HI(t){t.Ca.forEach(e=>{e.next()})}var Wp,Qp;(Qp=Wp||(Wp={})).Ma="default",Qp.Cache="cache";const WI="SyncEngine";class QI{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Er(l=>uv(l),lv),this.Iu=new Map,this.Eu=new Set,this.du=new ut(W.comparator),this.Au=new Map,this.Ru=new Vh,this.Vu={},this.mu=new Map,this.fu=oi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GI(t,e,n){const r=JI(t);try{const i=await function(a,l){const c=se(a),f=fe.now(),m=l.reduce((R,k)=>R.add(k.key),Ge());let d,y;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=Ia(),D=Ge();return c.Ns.getEntries(R,m).next(O=>{k=O,k.forEach((T,v)=>{v.isValidDocument()||(D=D.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,k)).next(O=>{d=O;const T=[];for(const v of l){const A=VS(v,d.get(v.key).overlayedDocument);A!=null&&T.push(new wr(v.key,A,tv(A.value.mapValue),Jt.exists(!0)))}return c.mutationQueue.addMutationBatch(R,f,T,l)}).next(O=>{y=O;const T=O.applyToLocalDocumentSet(d,D);return c.documentOverlayCache.saveOverlays(R,O.batchId,T)})}).then(()=>({batchId:y.batchId,changes:hv(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let f=a.Vu[a.currentUser.toKey()];f||(f=new ut(ee)),f=f.insert(l,c),a.Vu[a.currentUser.toKey()]=f}(r,i.batchId,n),await nl(r,i.changes),await tl(r.remoteStore)}catch(i){const s=Dv(i,"Failed to persist write");n.reject(s)}}function Gp(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=se(a);c.onlineState=l;let f=!1;c.queries.forEach((m,d)=>{for(const y of d.Sa)y.va(l)&&(f=!0)}),f&&HI(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KI(t,e){const n=se(t),r=e.batch.batchId;try{const i=await TI(n.localStore,e);Vv(n,r,null),Nv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nl(n,i)}catch(i){await wh(i)}}async function XI(t,e,n){const r=se(t);try{const i=await function(a,l){const c=se(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return c.mutationQueue.lookupMutationBatch(f,l).next(d=>(_e(d!==null,37113),m=d.keys(),c.mutationQueue.removeMutationBatch(f,d))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,m,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>c.localDocuments.getDocuments(f,m))})}(r.localStore,e);Vv(r,e,n),Nv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nl(r,i)}catch(i){await wh(i)}}function Nv(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Vv(t,e,n){const r=se(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}async function nl(t,e,n){const r=se(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{a.push(r.pu(c,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){i.push(f);const d=Mh.As(c.targetId,f);s.push(d)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(c,f){const m=se(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(f,y=>V.forEach(y.Es,R=>m.persistence.referenceDelegate.addReference(d,y.targetId,R)).next(()=>V.forEach(y.ds,R=>m.persistence.referenceDelegate.removeReference(d,y.targetId,R)))))}catch(d){if(!Fs(d))throw d;$(_I,"Failed to update sequence numbers: "+d)}for(const d of f){const y=d.targetId;if(!d.fromCache){const R=m.Ms.get(y),k=R.snapshotVersion,D=R.withLastLimboFreeSnapshotVersion(k);m.Ms=m.Ms.insert(y,D)}}}(r.localStore,s))}async function YI(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){$(WI,"User change. New user:",e.toKey());const r=await Av(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new q(M.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nl(n,r.Ls)}}function JI(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XI.bind(null,e),e}class Ra{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Za(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wI(this.persistence,new vI,e.initialUser,this.serializer)}Cu(e){return new Iv(Oh.mi,this.serializer)}Du(e){return new AI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ra.provider={build:()=>new Ra};class ZI extends Ra{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Pa,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rt.withCacheSize(this.cacheSizeBytes):rt.DEFAULT;return new Iv(r=>Pa.mi(r,n),this.serializer)}}class vc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qI}()}createDatastore(e){const n=Za(e.databaseInfo.databaseId),r=function(s){return new xI(s)}(e.databaseInfo);return function(s,a,l,c){return new OI(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new LI(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Gp(this.syncEngine,n,0),function(){return Bp.v()?new Bp:new CI}())}createSyncEngine(e,n){return function(i,s,a,l,c,f,m){const d=new QI(i,s,a,l,c,f);return m&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);$(zs,"RemoteStore shutting down."),s.Ea.add(5),await Bs(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vc.provider={build:()=>new vc};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="FirestoreClient";class eA{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=_h.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{$(Fn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>($(Fn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function su(t,e){t.asyncQueue.verifyOperationInProgress(),$(Fn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Av(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Kp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tA(t);$(Fn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qp(e.remoteStore,i)),t._onlineComponents=e}async function tA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Fn,"Using user provided OfflineComponentProvider");try{await su(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await su(t,new Ra)}}else $(Fn,"Using default OfflineComponentProvider"),await su(t,new ZI(void 0));return t._offlineComponents}async function nA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Fn,"Using user provided OnlineComponentProvider"),await Kp(t,t._uninitializedComponentsProvider._online)):($(Fn,"Using default OnlineComponentProvider"),await Kp(t,new vc))),t._onlineComponents}function rA(t){return nA(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="firestore.googleapis.com",Yp=!0;class Jp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mv,this.ssl=Yp}else this.host=e.host,this.ssl=e.ssl??Yp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tI)throw new q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ov(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OT;switch(r.type){case"firstParty":return new bT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Xp.get(n);r&&($("ComponentProvider","Removing Datastore"),Xp.delete(n),r.terminate())}(this),Promise.resolve()}}function iA(t,e,n,r={}){var f;t=Wy(t,rl);const i=mh(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(uw(`https://${l}`),dw("Firestore",!0)),s.host!==Mv&&s.host!==l&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!ma(c,a)&&(t._setSettings(c),r.mockUserToken)){let m,d;if(typeof r.mockUserToken=="string")m=r.mockUserToken,d=We.MOCK_USER;else{m=cw(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new We(y)}t._authCredentials=new MT(new $y(m,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class Ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}toJSON(){return{type:Ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bs(n,Ke._jsonSchema))return new Ke(e,r||null,new W(pe.fromString(n.referencePath)))}}Ke._jsonSchemaVersion="firestore/documentReference/1.0",Ke._jsonSchema={type:Ie("string",Ke._jsonSchemaVersion),referencePath:Ie("string")};class Vn extends jh{constructor(e,n,r){super(e,n,yS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new W(e))}withConverter(e){return new Vn(this.firestore,e,this._path)}}function sA(t,e,...n){if(t=Cs(t),qy("collection","path",e),t instanceof rl){const r=pe.fromString(e,...n);return Ep(r),new Vn(t,null,r)}{if(!(t instanceof Ke||t instanceof Vn))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Ep(r),new Vn(t.firestore,null,r)}}function oA(t,e,...n){if(t=Cs(t),arguments.length===1&&(e=_h.newId()),qy("doc","path",e),t instanceof rl){const r=pe.fromString(e,...n);return _p(r),new Ke(t,null,new W(r))}{if(!(t instanceof Ke||t instanceof Vn))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return _p(r),new Ke(t.firestore,t instanceof Vn?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="AsyncQueue";class em{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cv(this,"async_queue_retry"),this._c=()=>{const r=iu();r&&$(Zp,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=iu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=iu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new or;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fs(e))throw e;$(Zp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",tm(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Lh.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&K(47125,{Pc:tm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lv extends rl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new em,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new em(e),this._firestoreClient=void 0,await e}}}function aA(t,e){const n=typeof t=="object"?t:ST(),r=typeof t=="string"?t:Ea,i=vT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aw("firestore");s&&iA(i,...s)}return i}function lA(t){if(t._terminated)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uA(t),t._firestoreClient}function uA(t){var r,i,s;const e=t._freezeSettings(),n=function(l,c,f,m){return new nS(l,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ov(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eA(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dt(qt.fromBase64String(e))}catch(n){throw new q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dt(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bs(e,Dt._jsonSchema))return Dt.fromBase64String(e.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:Ie("string",Dt._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zt._jsonSchemaVersion}}static fromJSON(e){if(bs(e,Zt._jsonSchema))return new Zt(e.latitude,e.longitude)}}Zt._jsonSchemaVersion="firestore/geoPoint/1.0",Zt._jsonSchema={type:Ie("string",Zt._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:en._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bs(e,en._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new en(e.vectorValues);throw new q(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}en._jsonSchemaVersion="firestore/vectorValue/1.0",en._jsonSchema={type:Ie("string",en._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=/^__.*__$/;class hA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Us(e,this.data,n,this.fieldTransforms)}}function bv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ac:t})}}class Fh{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ka(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bv(this.Ac)&&cA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Za(e)}Cc(e,n,r,i=!1){return new Fh({Ac:e,methodName:n,Dc:r,path:be.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dA(t){const e=t._freezeSettings(),n=Za(t._databaseId);return new fA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pA(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Bv("Data must be an object, but it was:",a,r);const l=Uv(r,a);let c,f;if(s.merge)c=new Nt(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const m=[];for(const d of s.mergeFields){const y=mA(e,d,n);if(!a.contains(y))throw new q(M.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);yA(m,y)||m.push(y)}c=new Nt(m),f=a.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,f=a.fieldTransforms;return new hA(new xt(l),c,f)}function Fv(t,e){if(zv(t=Cs(t)))return Bv("Unsupported field value:",e,t),Uv(t,e);if(t instanceof jv)return function(r,i){if(!bv(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=Fv(l,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Cs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=fe.fromDate(r);return{timestampValue:pc(i.serializer,s)}}if(r instanceof fe){const s=new fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pc(i.serializer,s)}}if(r instanceof Zt)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dt)return{bytesValue:US(i.serializer,r._byteString)};if(r instanceof Ke){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof en)return function(a,l){return{mapValue:{fields:{[Zy]:{stringValue:ev},[uc]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return Dh(l.serializer,f)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Eh(r)}`)}(t,e)}function Uv(t,e){const n={};return Gy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,i)=>{const s=Fv(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fe||t instanceof Zt||t instanceof Dt||t instanceof Ke||t instanceof jv||t instanceof en)}function Bv(t,e,n){if(!zv(n)||!Hy(n)){const r=Eh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function mA(t,e,n){if((e=Cs(e))instanceof bh)return e._internalPath;if(typeof e=="string")return $v(t,e);throw ka("Field path arguments must be of type string or ",t,!1,void 0,n)}const gA=new RegExp("[~\\*/\\[\\]]");function $v(t,e,n){if(e.search(gA)>=0)throw ka(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw ka(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ka(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new q(M.INVALID_ARGUMENT,l+t+c)}function yA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vA extends qv{data(){return super.data()}}function Hv(t,e){return typeof e=="string"?$v(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends qv{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $o(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ie("string",Gr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class $o extends Gr{data(e={}){return super.data(e)}}class os{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $o(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new $o(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ao(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new $o(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ao(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:EA(l.type),doc:c,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=os._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_h.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:t})}}os._jsonSchemaVersion="firestore/querySnapshot/1.0",os._jsonSchema={type:Ie("string",os._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};function wA(t,e){const n=Wy(t.firestore,Lv),r=oA(t),i=_A(t.converter,e);return TA(n,[pA(dA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jt.exists(!1))]).then(()=>r)}function TA(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(async()=>GI(await rA(r),i,s)),s.promise}(lA(t),e)}(function(e,n=!0){(function(i){fi=i})(TT),ya(new Ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Lv(new LT(r.getProvider("auth-internal")),new FT(a,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(f.options.projectId,m)}(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Wr(mp,gp,e),Wr(mp,gp,"esm2020")})();var SA="firebase",IA="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(SA,IA,"app");const AA={apiKey:"AIzaSyDm-AvEErJaTOkpKudDGhhRPsK0pUYd64M",authDomain:"ionic-capacitor-generic.firebaseapp.com",projectId:"ionic-capacitor-generic",storageBucket:"ionic-capacitor-generic.firebasestorage.app",messagingSenderId:"670034150569",appId:"1:670034150569:web:060bfa350149e920a555b8",measurementId:"G-B49HY2FGT2"},CA=Oy(AA),PA=aA(CA);function RA(){return{writeDatafirebaseAsync:async(e,n)=>{try{const r=await wA(sA(PA,e),n);console.log("Documento creado con ID:",r.id)}catch(r){console.error("Error agregando documento:",r)}}}}const kA=()=>{const{story:t,setStory:e,nextDialog:n,currentDialog:r}=K1(),{writeDatafirebaseAsync:i}=RA(),{id:s}=P1(),a=Sy(),l=()=>{n()&&a("/")};return B.useEffect(()=>{const c=bo.findIndex(f=>f.id==s);c!=-1&&(e(bo[c]),i("stories",{storyName:bo[c].name,date:new Date,deviceInfo:navigator.userAgent}))},[]),B.useEffect(()=>{sessionStorage.getItem("access")||a("/")},[]),te.jsx(te.Fragment,{children:t&&te.jsxs("div",{className:"story__container",style:{backgroundImage:`url(../img/background/${t!=null&&t.background?t.background:"default.webp"})`,backgroundSize:"auto 100%",backgroundRepeat:"no-repeat"},children:[te.jsx("div",{className:"story__date",children:t.date}),te.jsx(X1,{dialog:r,nextDialog:()=>l()})]})})},xA=()=>te.jsx(W1,{basename:"/wedding",children:te.jsxs($1,{children:[te.jsx(ec,{path:"/",element:te.jsx(np,{children:te.jsx(G1,{})})}),te.jsx(ec,{path:"/story/:id",element:te.jsx(np,{children:te.jsx(kA,{})})})]})});ou.createRoot(document.getElementById("root")).render(te.jsx(xA,{}));
